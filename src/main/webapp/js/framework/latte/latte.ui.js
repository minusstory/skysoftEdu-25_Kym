/*
* ----------------------------------------------------------------------------------------------------------------------
* TODO 2012/01/10
* - calendar
* 	- 화면깨짐 : IE 쿼크
* 
* - scroll
* 	- 화면이동 : IE 쿼크, IE6 부자연스러움
* ----------------------------------------------------------------------------------------------------------------------
*/

/*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.6.6 - latte v0.8] 2013/01/29<ragnarok>
*
* 1. InputNumber : min, max 지정시 repeat 기능 추가. custom css 추가
* - latte.ui.form.InputNumberControl 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.6.5 - latte v0.8] 2013/01/17<ragnarok>
*
* 1. TreeMenu : extEvtLst == false 일때 focus 확장이 되지 않도록 수정
* - latte.ui.navi.TreeMenuControl 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.6.4 - latte v0.8] 2012/12/28<ragnarok>
*
* 1. Calendar : 12월 다음달 css 오류 수정
* - latte.ui.form.CalendarControl 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.6.3 - latte v0.8] 2012/12/27<ragnarok>
*
* 1. Calendar : 오늘날짜 오류 수정
* - latte.ui.form.Calendar 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.6.2 - latte v0.8] 2012/12/14<ragnarok>
*
* 1. Calendar : 날짜버튼의 title=null 수정
* - latte.ui.form.CalendarControl 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.6.1 - latte v0.8] 2012/11/22<ragnarok>
*
* 1. Calendar : 달력이 닫힐때 달력열기버튼으로 포커스 이동되도록 수정. 1월 이전달 css 오류 수정
* - latte.ui.form.CalendarControl 수정
* - latte.ui.form.CalendarHandler 수정
*
* 2. 팝업이 닫힐때 팝업열기버튼으로 포커스 이동되도록 수정
* - latte.ui.layer.PopupControl 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.6.0 - latte v0.8] 2012/10/19<ragnarok>
*
* 1. Calender : 사용자 공휴일지정 기능 추가
* - latte.ui.form.Calendar.js 수정
* - latte.ui.form.CalendarControl.js 수정
* - latte.ui.static.js 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.5.1 - latte v0.8] 2012/09/27<ragnarok>
*
* 1. TreeMenu : onload 시 동작 가능하도록 변경, focQstr 기본값 추가
* - latte.ui.navi.TreeMenu 수정
* - latte.ui.navi.TreeMenuControl 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.5.0 - latte v0.8] 2012/08/06<ragnarok>
*
* 1. TreeMenu : IE 포커스 확장 불가능 오류 수정
* - latte.ui.navi.MenuControl 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.4.9 - latte v0.8] 2012/06/08<ragnarok>
*
* 1. TreeMenu : 메뉴에 대한 포커스 처리기능 추가
* - latte.ui.navi.MenuControl 수정
* - latte.ui.navi.TreeMenuControl 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.4.8 - latte v0.8] 2012/05/25<ragnarok>
*
* 1. Dispose : 가로, 세로 방향 가능 하도록 수정
* - latte.ui.node.DisposeControl 수정
* - latte.ui.node.DisposeDragDropHandler 수정
*
* 2. Dispose : 재설정 기능 추가
* - latte.ui.node.Dispose 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.4.7 - latte v0.8] 2012/01/20<ragnarok>
*
* 1. Calender : 오늘날짜를 선택하면 임계치를 벗어나도 처리되던 현상을 제거함
* - latte.ui.form.CalendarHandler 수정
*
* 2. Menu : 속도 개선
* - latte.ui.navi.Menu 수정
* - latte.ui.navi.MenuControl 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.4.6 - latte v0.8] 2012/01/19<ragnarok>
*
* 1. Popup : 열기위치 오류 패치
* - latte.ui.layer.PopupParentHandler 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.4.5 - latte v0.8] 2012/01/18<ragnarok>
*
* 1. Node : label target 재설정 기능 제거
* - latte.ui.node.NodeControl 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.4.4 - latte v0.8] 2012/01/10<ragnarok>
*
* 1. Popup : FF에서 override 메서드의 호출 window를 찾을 수 있도록 변경
* - latte.ui.layer.PopupHandler 수정
* - latte.ui.layer.PopupParentHandler 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.4.3 - latte v0.6.8] 2011/11/23<ragnarok>
*
* 1. latte.ui.layer.PopupHandler.js 추가		: latte 0.6.8 이상에서 동작
* 2. latte.ui.layer.PopupParentHandler.js 추가	: latte 0.6.8 이상에서 동작
*
* 3. Calendar : 재작성
* - latte.ui.layer.Popup 재작성
* - latte.ui.layer.PopupControl 재작성
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.4.2 - latte v0.6.8] 2011/11/22<ragnarok>
*
* 1. Calendar : 입력값 초기화 기능 추가 (샘플버전 : Latte UI - Calendar v1.1)
* - latte.ui.form.Calendar 수정
* - latte.ui.form.CalendarControl 수정
* - latte.ui.form.CalendarHandler 수정
* - latte.ui.form.CalendarParentHandler 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.4.1 - latte v0.6.8] 2011/11/09<ragnarok>
*
* 1. latte.ui.form.CalendarHandler.js 추가			: latte 0.6.8 이상에서 동작
* 2. latte.ui.form.CalendarParentHandler.js 추가	: latte 0.6.8 이상에서 동작
*
* 3. Calendar : 재작성
* - latte.ui.form.Calendar 재작성
* - latte.ui.form.CalendarControl 재작성
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.4.0 - latte v0.6.8] 2011/10/28<ragnarok>
*
* 1. latte.ui.event 추가	: latte 0.6.8 이상에서 동작
* 2. latte.ui.load 추가		: latte 0.6.8 이상에서 동작
* 3. latte.ui.mobile 추가	: latte 0.6.8 이상에서 동작
* 4. latte.ui.banner.ScrollDragDropHandler 추가	: latte 0.6.8 이상에서 동작
*
* 5. Scroll 기능개선 : 양쪽끝 정지, 배너 맞춤 정지기능 추가
* - latte.ui.banner.Scroll 수정
* - latte.ui.banner.ScrollControl 수정
*
* 6. Dispose 기능개선 : 감싸기노드 임시고정 기능개선, 링크가능하게 기능추가
* - latte.ui.node.Dispose 수정
* - latte.ui.node.DisposeDragDropHandler 수정
* - latte.ui.node.DisposeControl 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.3.2 - latte v0.6.3] 2011/10/20<ragnarok>
*
* 1. latte.ui.node.Dispose 추가					: latte 0.6.3 이상에서 동작
* 2. latte.ui.node.DisposeDragDropHandler 추가	: latte 0.6.3 이상에서 동작
* 3. latte.ui.node.DisposeControl 추가			: latte 0.6.3 이상에서 동작
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.3.1 - latte v0.6.3] 2011/10/18<ragnarok>
*
* 1. latte.ui.banner.Roll 추가			: latte 0.6.3 이상에서 동작
* 2. latte.ui.banner.RollControl 추가	: latte 0.6.3 이상에서 동작
* 3. latte.ui.banner.Scroll 추가		: latte 0.6.3 이상에서 동작
* 4. latte.ui.banner.ScrollControl 추가	: latte 0.6.3 이상에서 동작
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.3.0 - latte v0.6.3] 2011/10/05<ragnarok>
*
* 1. Popup : 팝업 열기위치 오류를 수정함 >> 기준의 offsetParent 와 팝업의 offsetParent가 달라서 생긴문제
* - latte.ui.layer.PopupControl 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.2.9 - latte v0.6.3] 2011/10/02<ragnarok>
*
* 1. Calender : 캘린더 열기위치를 매번 연산하도록 수정함
* - latte.ui.form.CalendarControl 수정
*
* 2. Calender : 캘린더가 열리면 스크롤이 이동되지 않도록 수정함
* - latte.ui.form.CalendarControl 수정
*
* 3. Node : 입력노드의 id가 없으면 htmlFor 백업시 생기는 오류 제거
* - latte.ui.Node.NodeControl 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.2.8 - latte v0.6.3] 2011/09/27<ragnarok>
*
* 1. Node : 첫번째 자식노드로 추가시 오류 해결
* - latte.ui.node.NodeControl 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.2.7 - latte v0.6.3] 2011/09/27<ragnarok>
*
* 1. latte.ui.node : qstr 로 노드를 찾지 못한경우 생기는 오류를 없앰
* 2. latte.ui.getEvent : qstr 로 노드를 찾지 못한경우 생기는 오류를 없앰
* 3. latte.ui.node.Node 추가 : latte 0.6.3 이상에서 동작
* 4. latte.ui.node.NodeControl 추가 : latte 0.6.3 이상에서 동작
* 5. latte.ui.layer.Blind 추가 : latte 0.6.2 이상에서 동작
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.2.6 - latte v0.6.2] 2011/09/24 <ragnarok>
*
* 1. TreeMenu : qstr 로 노드를 찾지 못한경우 생기는 오류를 없앰
* - latte.ui.navi.TreeMenuControl 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.2.5 - latte v0.6.2] 2011/09/22 <ragnarok>
*
* 1. Popup : IE9 에서 window.close override가 불가하여 window.closePopup 으로 변경함
* - latte.ui.layer.PopupControl 수정
*
* 2. Popup : 열기노드의 부모가 Anchor 인 경우 부모노드 뒤에 팝업프레임을 삽입하도록 변경
* - latte.ui.layer.PopupControl 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.2.4 - latte v0.6.2] 2011/08/31 <ragnarok>
*
* 1. Popup : 재작성함 (window.open과 유사하도록 인터페이스 변경)
* - latte.ui.layer.Popup 작성
* - latte.ui.layer.PopupControl 작성
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.2.3] 2011/09/06 <ragnarok>
*
* 1. Popup : standalone 팝업의 옵션이 지정안되는 오류 수정
* - latte.ui.layer.PopupControl 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.2.2] 2011/09/02 <ragnarok>
*
* 1. Popup : z-index 기능 추가
* - latte.ui.layer.PopupControl 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.2.1] 2011/09/01 <ragnarok>
*
* 1. Popup : 팝업이열릴때 이미 열려진 팝업을 닫는기능 추가 (closeAll 옵션)
* - latte.ui.layer.Popup 수정
* - latte.ui.layer.PopupControl 수정
*
* 2. Popup : standalone 팝업 기능 추가 (<script /> 태그에서 사용 가능하며 opnNode 가 지정되지 않아도 팝업을 사용할 수 있음)
* - latte.ui.layer.Popup 수정
* - latte.ui.layer.PopupControl 수정
*
* 3. Popup : 팝업위치 기준점 변경 (tarNode이 있다면 : tarNode 좌하단, target이 없다면 : opnNode 좌하단)
* - latte.ui.layer.Popup 수정
* - latte.ui.layer.PopupControl 수정
*
* 4. Popup : 팝업닫힐때 포커스 문제 해결 (웹호환성 해결)
* - latte.ui.layer.PopupControl 수정
*
* 5. Popup : 크로스도메인일때 오류가 발생하지 않도록 수정
* - latte.ui.layer.PopupControl 수정
*
* 6. Popup : 팝업프레임에 margin 설정시 위치저장이 잘못되는 오류 수정
* - latte.ui.layer.PopupControl 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.2] 2011/08/31 <ragnarok>
*
* 1. latte.ui.layer.Popup 추가 : latte 0.6.1 이상에서 동작
* 2. latte.ui.layer.PopupControl 추가 : latte 0.6.1 이상에서 동작
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.1.5] 2011/08/01 <ragnarok>
*
* 1. Calendar : 달력열기 버튼과 달력위치 수정
* - latte.ui.form.CalendarControl 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.1.4] 2011/07/11 <ragnarok>
*
* 1. Calendar : safari "display:none" 상태의 iframe에 포커스 되는 오류 해결
* - latte.ui.form.CalendarControl 수정
*
* 2. Calendar : caption 추가
* - latte.ui.form.CalendarControl 수정
* - ui.html 수정
*
* 3. Calendar : 기본 타이틀 변경
* - latte.ui.form.CalendarControl 수정
*
* 4. Calendar : page up(다음달), page down(이전달) 기능 추가
* - latte.ui.form.CalendarControl 수정
*
* 5. Calendar : esc(닫기) 기능 추가
* - latte.ui.form.CalendarControl 수정
*
* 6. Calendar : duble click(날짜 선택후 닫기) 기능 추가
* - latte.ui.form.CalendarControl 수정
*
* 7. Calendar : z-index 기본값 설정
* - latte.ui.form.CalendarControl 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.1.3] 2011/07/08 <ragnarok>
*
* 1. latte.ui.form.InputNumber 추가 : latte 0.5.7 이상에서 동작
* 2. latte.ui.form.InputNumberControl 추가 : latte 0.5.7 이상에서 동작
* 3. latte.ui.form.Calendar 추가 : latte 0.5.7 이상에서 동작
* 4. latte.ui.form.CalendarControl 추가 : latte 0.5.7 이상에서 동작
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.1.2] 2011/06/24 <ragnarok>
*
* 1. latte.ui.navi.Menu 추가 : latte 0.5.7 이상에서 동작
* 2. latte.ui.navi.MenuControl 추가 : latte 0.5.7 이상에서 동작
* 3. latte.ui.navi.TreeMenu 추가 : latte 0.5.7 이상에서 동작
* 4. latte.ui.navi.TreeMenuControl 추가 : latte 0.5.7 이상에서 동작
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.1.1] 2011/06/07 <ragnarok>
*
* 1. 높이가 0보다 작은경우 IE9 미만에서 발생하는 오류 수정
* - latte.ui.navi.ExtendVector 수정
*
* 2. 기본값을 적용하여 객체 생성시 옵션을 최소화함
* - latte.ui.navi.ExtendVector 수정
* - latte.ui.navi.OpenVector 수정
*
* ----------------------------------------------------------------------------------------------------------------------
* [v0.1] 2011/06/02 <ragnarok>
*
* 1. latte.ui.navi.OpenVector 추가 : latte 0.5.7 이상에서 동작
* 2. latte.ui.navi.ExtendVector 추가 : latte 0.5.7 이상에서 동작
*
*/


if(typeof window.latte=="undefined")window.latte={};latte.ui={ver:"0.6.6",node:{BEFORE:-2,AFTER:2,FCHILD:-1,LCHILD:1},direction:{TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right"},removeTextNode:function(a){var d,b;if(b=a.firstChild)for(;b;)d=b.nextSibling,b.nodeType!=1&&a.removeChild(b),b=d},getNodeArea:function(a){var d=latte.css.getRelativeOffset(a),b=latte.css.getValue;return{node:a,top:d.top+a.offsetTop,left:d.left+a.offsetLeft,height:a.offsetHeight,width:a.offsetWidth,margin:[parseInt(b(a,"marginTop"))-0,parseInt(b(a,"marginRight"))-0,parseInt(b(a,"marginBottom"))-0,parseInt(b(a,"marginLeft"))-0]}},getNextWeight:function(a,d,b,n){a=(b-a)/(d-a)*10;return Math.round(n*0.03*(a*a-10*a)+n*1.25)},calendar:{lunarMonthTable:[[2,1,2,1,2,1,2,2,1,2,1,2],[1,2,1,1,2,1,2,5,2,2,1,2],[1,2,1,1,2,1,2,1,2,2,2,1],[2,1,2,1,1,2,1,2,1,2,2,2],[1,2,1,2,3,2,1,1,2,2,1,2],[2,2,1,2,1,1,2,1,1,2,2,1],[2,2,1,2,2,1,1,2,1,2,1,2],[1,2,2,4,1,2,1,2,1,2,1,2],[1,2,1,2,1,2,2,1,2,1,2,1],[2,1,1,2,2,1,2,1,2,2,1,2],[1,5,1,2,1,2,1,2,2,2,1,2],[1,2,1,1,2,1,2,1,2,2,2,1],[2,1,2,1,1,5,1,2,2,1,2,2],[2,1,2,1,1,2,1,1,2,2,1,2],[2,2,1,2,1,1,2,1,1,2,1,2],[2,2,1,2,5,1,2,1,2,1,1,2],[2,1,2,2,1,2,1,2,1,2,1,2],[1,2,1,2,1,2,2,1,2,1,2,1],[2,3,2,1,2,2,1,2,2,1,2,1],[2,1,1,2,1,2,1,2,2,2,1,2],[1,2,1,1,2,1,5,2,2,1,2,2],[1,2,1,1,2,1,1,2,2,1,2,2],[2,1,2,1,1,2,1,1,2,1,2,2],[2,1,2,2,3,2,1,1,2,1,2,2],[1,2,2,1,2,1,2,1,2,1,1,2],[2,1,2,1,2,2,1,2,1,2,1,1],[2,1,2,5,2,1,2,2,1,2,1,2],[1,1,2,1,2,1,2,2,1,2,2,1],[2,1,1,2,1,2,1,2,2,1,2,2],[1,5,1,2,1,1,2,2,1,2,2,2],[1,2,1,1,2,1,1,2,1,2,2,2],[1,2,2,1,1,5,1,2,1,2,2,1],[2,2,2,1,1,2,1,1,2,1,2,1],[2,2,2,1,2,1,2,1,1,2,1,2],[1,2,2,1,6,1,2,1,2,1,1,2],[1,2,1,2,2,1,2,2,1,2,1,2],[1,1,2,1,2,1,2,2,1,2,2,1],[2,1,4,1,2,1,2,1,2,2,2,1],[2,1,1,2,1,1,2,1,2,2,2,1],[2,2,1,1,2,1,4,1,2,2,1,2],[2,2,1,1,2,1,1,2,1,2,1,2],[2,2,1,2,1,2,1,1,2,1,2,1],[2,2,1,2,2,4,1,1,2,1,2,1],[2,1,2,2,1,2,2,1,2,1,1,2],[1,2,1,2,1,2,2,1,2,2,1,2],[1,1,2,4,1,2,1,2,2,1,2,2],[1,1,2,1,1,2,1,2,2,2,1,2],[2,1,1,2,1,1,2,1,2,2,1,2],[2,5,1,2,1,1,2,1,2,1,2,2],[2,1,2,1,2,1,1,2,1,2,1,2],[2,2,1,2,1,2,3,2,1,2,1,2],[2,1,2,2,1,2,1,1,2,1,2,1],[2,1,2,2,1,2,1,2,1,2,1,2],[1,2,1,2,4,2,1,2,1,2,1,2],[1,2,1,1,2,2,1,2,2,1,2,2],[1,1,2,1,1,2,1,2,2,1,2,2],[2,1,4,1,1,2,1,2,1,2,2,2],[1,2,1,2,1,1,2,1,2,1,2,2],[2,1,2,1,2,1,1,5,2,1,2,2],[1,2,2,1,2,1,1,2,1,2,1,2],[1,2,2,1,2,1,2,1,2,1,2,1],[2,1,2,1,2,5,2,1,2,1,2,1],[2,1,2,1,2,1,2,2,1,2,1,2],[1,2,1,1,2,1,2,2,1,2,2,1],[2,1,2,3,2,1,2,1,2,2,2,1],[2,1,2,1,1,2,1,2,1,2,2,2],[1,2,1,2,1,1,2,1,1,2,2,2],[1,2,5,2,1,1,2,1,1,2,2,1],[2,2,1,2,2,1,1,2,1,2,1,2],[1,2,2,1,2,1,5,2,1,2,1,2],[1,2,1,2,1,2,2,1,2,1,2,1],[2,1,1,2,2,1,2,1,2,2,1,2],[1,2,1,1,5,2,1,2,2,2,1,2],[1,2,1,1,2,1,2,1,2,2,2,1],[2,1,2,1,1,2,1,1,2,2,2,1],[2,2,1,5,1,2,1,1,2,2,1,2],[2,2,1,2,1,1,2,1,1,2,1,2],[2,2,1,2,1,2,1,5,2,1,1,2],[2,1,2,2,1,2,1,2,1,2,1,1],[2,2,1,2,1,2,2,1,2,1,2,1],[2,1,1,2,1,6,1,2,2,1,2,1],[2,1,1,2,1,2,1,2,2,1,2,2],[1,2,1,1,2,1,1,2,2,1,2,2],[2,1,2,3,2,1,1,2,2,1,2,2],[2,1,2,1,1,2,1,1,2,1,2,2],[2,1,2,2,1,1,2,1,1,5,2,2],[1,2,2,1,2,1,2,1,1,2,1,2],[1,2,2,1,2,2,1,2,1,2,1,1],[2,1,2,2,1,5,2,2,1,2,1,2],[1,1,2,1,2,1,2,2,1,2,2,1],[2,1,1,2,1,2,1,2,2,1,2,2],[1,2,1,1,5,1,2,1,2,2,2,2],[1,2,1,1,2,1,1,2,1,2,2,2],[1,2,2,1,1,2,1,1,2,1,2,2],[1,2,5,2,1,2,1,1,2,1,2,1],[2,2,2,1,2,1,2,1,1,2,1,2],[1,2,2,1,2,2,1,5,2,1,1,2],[1,2,1,2,2,1,2,1,2,2,1,2],[1,1,2,1,2,1,2,2,1,2,2,1],[2,1,1,2,3,2,2,1,2,2,2,1],[2,1,1,2,1,1,2,1,2,2,2,1],[2,2,1,1,2,1,1,2,1,2,2,1],[2,2,2,3,2,1,1,2,1,2,1,2],[2,2,1,2,1,2,1,1,2,1,2,1],[2,2,1,2,2,1,2,1,1,2,1,2],[1,5,2,2,1,2,1,2,1,2,1,2],[1,2,1,2,1,2,2,1,2,2,1,1],[2,1,2,1,2,1,5,2,2,1,2,2],[1,1,2,1,1,2,1,2,2,2,1,2],[2,1,1,2,1,1,2,1,2,2,1,2],[2,2,1,1,5,1,2,1,2,1,2,2],[2,1,2,1,2,1,1,2,1,2,1,2],[2,1,2,2,1,2,1,1,2,1,2,1],[2,1,6,2,1,2,1,1,2,1,2,1],[2,1,2,2,1,2,1,2,1,2,1,2],[1,2,1,2,1,2,1,2,5,2,1,2],[1,2,1,1,2,1,2,2,2,1,2,1],[2,1,2,1,1,2,1,2,2,1,2,2],[2,1,1,2,3,2,1,2,1,2,2,2],[1,2,1,2,1,1,2,1,2,1,2,2],[2,1,2,1,2,1,1,2,1,2,1,2],[2,1,2,5,2,1,1,2,1,2,1,2],[1,2,2,1,2,1,2,1,2,1,2,1],[2,1,2,1,2,2,1,2,1,2,1,2],[1,5,2,1,2,1,2,2,1,2,1,2],[1,2,1,1,2,1,2,2,1,2,2,1],[2,1,2,1,1,5,2,1,2,2,2,1],[2,1,2,1,1,2,1,2,1,2,2,2],[1,2,1,2,1,1,2,1,1,2,2,2],[1,2,2,1,5,1,2,1,1,2,2,1],[2,2,1,2,2,1,1,2,1,1,2,2],[1,2,1,2,2,1,2,1,2,1,2,1],[2,1,5,2,1,2,2,1,2,1,2,1],[2,1,1,2,1,2,2,1,2,2,1,2],[1,2,1,1,2,1,2,1,2,2,5,2],[1,2,1,1,2,1,2,1,2,2,2,1],[2,1,2,1,1,2,1,1,2,2,1,2],[2,2,1,2,1,4,1,1,2,2,1,2],[2,2,1,2,1,1,2,1,1,2,1,2],[2,2,1,2,1,2,1,2,1,1,2,1],[2,2,1,2,5,2,1,2,1,2,1,1],[2,1,2,2,1,2,2,1,2,1,2,1],[2,1,1,2,1,2,2,1,2,2,1,2],[1,5,1,2,1,2,1,2,2,2,1,2],[1,2,1,1,2,1,1,2,2,1,2,2]],lunarCalc:function(a,d,b,n,p){var g=this.lunarMonthTable,k,l,j,m,c,h,i,e,f,o=[31,0,31,30,31,30,31,31,30,31,30,31];if(a<1900||a>2040)alert("1900\ufffd\ufffd\ufffd\ufffd\ufffd 2040\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\u0574\u03f4\ufffd");else{a>=2E3?(k=2E3,j=l=1,m=1999,c=11,h=25,i=0,o[1]=29,e=30):a>=1970?(k=1970,j=l=1,m=1969,c=11,h=24,i=0,o[1]=28,e=30):a>=1940?(k=1940,j=l=1,m=1939,c=11,h=22,i=0,e=o[1]=29):(k=1900,j=l=1,m=1899,c=12,h=1,i=0,o[1]=28,e=30);for(f=m-1899;;){if(n==1&&a==k&&d==l&&b==j)return{year:m,month:c,day:h,leapMonth:i};else if(n==2&&a==m&&d==c&&b==h&&p==i)return{year:k,month:l,day:j,leapMonth:0};l==12&&j==31?(k++,j=l=1,o[1]=k%400==0?29:k%100==0?28:k%4==0?29:28):o[l-1]==j?(l++,j=1):j++;if(c==12&&(g[f][c-1]==1&&h==29||g[f][c-1]==2&&h==30)){m++;h=c=1;if(m>2043){alert("\ufffd\u0537\ufffd\ufffd\u03fd\ufffd \ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\u03f4\ufffd.");break}f=m-1899;g[f][c-1]==1?e=29:g[f][c-1]==2&&(e=30)}else h==e?(g[f][c-1]>=3&&i==0?i=h=1:(c++,h=1,i=0),g[f][c-1]==1?e=29:g[f][c-1]==2?e=30:g[f][c-1]==3?e=29:g[f][c-1]==4&&i==0?e=29:g[f][c-1]==4&&i==1?e=30:g[f][c-1]==5&&i==0?e=30:g[f][c-1]==5&&i==1?e=29:g[f][c-1]==6&&(e=30)):h++}}},toLunar:function(a,d,b){if(!a||a==0||!d||d==0||!b||b==0)alert("\ufffd\ufffd\u00a5\ufffd\ufffd \ufffd\u0537\ufffd\ufffd\ufffd\ufffd\u05bc\ufffd\ufffd\ufffd");else{var n=[31,28,31,30,31,30,31,31,30,31,30,31];if(a%400==0||a%4==0&&a%100!=0)n[1]+=1;if(d<1||d>12||b<1||b>n[d-1])n[1]==28&&d==2&&b>28?alert("\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\u01b4\u0574\u03f4\ufffd. \ufffd\u067d\ufffd \ufffd\u0537\ufffd\ufffd\ufffd\ufffd\u05bc\ufffd\ufffd\ufffd"):alert("\ufffd\ufffd\u00a5 \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\uecf5\ufffd\ufffd\ufffd\u03f4\ufffd. \ufffd\u067d\ufffd \ufffd\u0537\ufffd\ufffd\ufffd\ufffd\u05bc\ufffd\ufffd\ufffd");else return a=this.lunarCalc(a,d,b,1),[a.year,a.month,a.day,a.leapMonth]}}}};
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};latte.ui.event={getEvent:function(a){var b=(a||arguments).callee.caller;if(b){for(;b.arguments.callee.caller;)b=b.arguments.callee.caller;return latte.getEvent(window.event||b.arguments[0]||{})}},tranEventDownToClick:function(a){var b=a._window||window,d=b.document,c;if(a.initMouseEvent)c=d.createEvent("MouseEvent"),c.initMouseEvent("click",!0,!0,b,0,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,null),c.fireEvent=function(){a.target.dispatchEvent(c)};else if(d.createEventObject)c=d.createEventObject(a),c.fireEvent=function(){a.button==1&&a.target.click()};return c}};latte.ui.getEvent=latte.ui.event.getEvent;
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};latte.ui.load={queue:[],add:function(a){document.readyState==="complete"?a():latte.ui.load.queue.push(a)},runAll:function(){for(var a,b=latte.ui.load.queue;a=b.shift();)a()}};latte.ui.onLoad=latte.ui.load.add;(function(){latte.observer.add(window,"load",latte.ui.load.runAll)})();
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};latte.ui.mobile={trnEvtMap:{touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0},fireMouseEvent:function(c,a){var a=a||window,b=a.document,e=c.changedTouches[0],d="";switch(c.type){case "touchstart":d="mousedown";break;case "touchmove":d="mousemove";c.preventDefault();break;case "touchcancel":case "touchend":d="mouseup"}d&&b.createEvent&&(b=b.createEvent("MouseEvent"),b.initMouseEvent(d,!0,!0,a,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),c.target.dispatchEvent(b))},touchToMouseEvent:function(c,a){var a=a||document,b=latte.ui.mobile,e=b.fireMouseEvent,d=b.trnEvtMap,f=[];latte.iter(c,function(a){d[a]&&f.push(a)});latte.observer.add(a,c,e)}};
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.navi=="undefined")window.latte.ui.navi={};latte.Class({$name:"latte.ui.navi.OpenVector",$const:function(a){this.setInit(a)},optMap:null,tarMap:null,vecMap:null,getVector:function(a){if(!a)return null;var c;switch(a.direction){default:case "bottom":c={turn:0,distance:"offsetHeight"};break;case "top":c={turn:1,distance:"offsetHeight"};break;case "right":c={turn:0,distance:"offsetWidth"};break;case "left":c={turn:1,distance:"offsetWidth"}}c.direction=a.direction||"bottom";c.speed=a.speed||5;c.frame=a.frame||15;return c},getTarget:function(a){if(!a)return null;var c=a.tarNode||document.body,b=null;try{b={zone:latte.query(a.qstrZone,c)[0],heads:latte.query(a.qstrHeads,c),bodys:latte.query(a.qstrBodys,c)}}catch(e){return null}if(!b.zone||!b.heads.length||!b.bodys.length)return null;if(this.vecMap.turn)b.heads=b.heads.reverse(),b.bodys=b.bodys.reverse();return b},setTargetStyle:function(){var a=this.tarMap.zone,c=this.tarMap.heads,b=this.tarMap.bodys;a.style.position="relative";a.style.overflow="hidden";for(var e,d=c.length;d--;)a=c[d],e=b[d],e.style.position=a.style.position="absolute",e.style.zIndex=a.style.zIndex=100*(d+1)},bindEvent:function(){var a=this.tarMap.heads;if(!a)return null;var c=this,b=this.optMap.evtLst||["mouseover"];latte.iter(a,function(a,d){latte.observer.add(a,b,function(){c.openItem(d,!0)})})},moveReadyPos:function(){if(!this.tarMap)return null;this.openItem(this.optMap.openInit||0)},setInit:function(a){if(!a)return null;this.optMap=a;var c=this.vecMap=this.getVector(a),b=this.tarMap=this.getTarget(a);if(b==null)return null;this.setTargetStyle();this.bindEvent();var a=b.heads,e=c.distance,d=0;latte.iter(a,function(a){a._pos={interSrc:null,distance:a[e],curr:0,open:d,close:0};d+=a[e]});d=b.zone[e];for(c=a.length;c--;)b=a[c]._pos,b.close=d-=b.distance,b.curr=b.close;this.moveReadyPos()},getNextInterval:function(a,c,b,e){a=(b-a)/(c-a)*10;return Math.round(e*0.03*(a*a-10*a)+e*1.25)},openItem:function(a,c){var b=this,e=b.tarMap.bodys;latte.iter(b.tarMap.heads,function(d,f){f<=a?b.moveItem(d,e[f],"open",f==a&&c):b.moveItem(d,e[f],"close")})},moveItem:function(a,c,b,e){if(!a||!c)return null;var d=a._pos,f=d.curr,h=d[b],n=this.getNextInterval,g=this.vecMap.direction,o=this.vecMap.frame,p=this.vecMap.speed,i=b=="close"?-1:1,j=this.optMap.callStart,k=this.optMap.callEnd,l=a.style,m=c.style;e&&latte.isFNC(j)&&j(this,{head:a,body:c,action:b});d.interSrc&&d.interSrc.clear&&d.interSrc.clear();d.interSrc=latte.interval(1,function(){l[g]=(d.curr-=p*i)+"px";m[g]=d.curr+d.distance+"px";if(d.curr*i<=h*i)return l[g]=(d.curr=h)+"px",m[g]=d.curr+d.distance+"px",e&&latte.isFNC(k)&&k(this,{head:a,body:c,action:b}),!0;d.interSrc.interval=n(f,h,d.curr,o)})}});
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.navi=="undefined")window.latte.ui.navi={};latte.Class({$name:"latte.ui.navi.ExtendVector",$const:function(a){this.setInit(a)},optMap:null,tarMap:null,vecMap:null,buffer:null,getVector:function(a){if(!a)return null;a={direction:a.direction||"height",speed:a.speed||4,frame:a.frame||10};switch(a.direction){case "height":a.distance="offsetHeight";break;case "width":a.distance="offsetWidth"}return a},getTarget:function(a){if(!a)return null;var c=a.tarNode||document.body,b=null;try{b={zone:latte.query(a.qstrZone,c)[0],heads:latte.query(a.qstrHeads,c),bodys:latte.query(a.qstrBodys,c)}}catch(d){return null}if(!b.zone||!b.heads.length||!b.bodys.length)return null;return b},setTargetStyle:function(){var a=this.tarMap.bodys,c=this.tarMap.heads;this.tarMap.zone.style.overflow="hidden";for(var b,d=a.length;d--;)head=c[d],head.style.width=head.offsetWidth+"px",head.style.height=head.offsetHeight+"px",b=a[d],b.style.width=b.offsetWidth+"px",b.style.height=b.offsetHeight+"px"},bindEvent:function(){var a=this.tarMap.heads;if(!a)return null;var c=this,b=this.optMap.evtLst||["mouseover"];latte.iter(a,function(a,f){latte.observer.add(a,b,function(){c.openItem(f,!0)})})},moveReadyPos:function(){if(!this.tarMap)return null;this.openItem(this.optMap.openInit||0)},setInit:function(a){if(!a)return null;this.optMap=a;var c=this.vecMap=this.getVector(a),b=this.tarMap=this.getTarget(a);if(b==null)return null;this.setTargetStyle();this.bindEvent();for(var a=b.heads,b=b.bodys,c=c.distance,d=a.length;d--;)a[d]._pos={interSrc:null,distance:a[d][c],curr:a[d][c],open:0,close:a[d][c]},b[d]._pos={distance:b[d][c],curr:0,open:b[d][c],close:0};this.moveReadyPos()},getNextInterval:function(a,c,b,d){a=(b-a)/(c-a)*10;return Math.round(d*0.03*(a*a-10*a)+d*1.25)},openItem:function(a,c){var b=this,d=b.tarMap.bodys,f=b.tarMap.heads;if(latte.isUND(a)){var e=this.buffer;if(e===null)return;a=e.openIdx;fCallbackdx=e.fCallback;this.buffer=null}else{var i=!0;latte.iter(f,function(a){try{i=a._pos.interSrc.isStop}catch(b){isIdel=!0}if(!isIdel)return null});if(!i){this.buffer={openIdx:a,fCallback:c};return}}latte.iter(f,function(e,f){f==a?b.moveItem(e,d[f],"open",c):b.moveItem(e,d[f],"close")})},moveItem:function(a,c,b,d){if(!a||!c)return null;var f=this,e=a._pos,i=e[b],g=c._pos,q=g.curr,k=g[b],r=this.getNextInterval,j=this.vecMap.direction,s=this.vecMap.frame,l=this.vecMap.speed,h=b=="close"?-1:1,m=this.optMap.callStart,n=this.optMap.callEnd,o=a.style,p=c.style;d&&latte.isFNC(m)&&m(this,{head:a,body:c,action:b});e.interSrc&&e.interSrc.clear&&e.interSrc.clear();e.interSrc=latte.interval(1,function(){e.curr*h>i*h&&(o[j]=Math.max(0,e.curr-=l*h)+"px");p[j]=Math.max(0,g.curr+=l*h)+"px";if(g.curr*h>=k*h)return o[j]=(e.curr=i)+"px",p[j]=(g.curr=k)+"px",d&&latte.isFNC(n)&&n(this,{head:a,body:c,action:b}),f.openItem(),!0;e.interSrc.interval=r(q,k,g.curr,s)})}});
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.navi=="undefined")window.latte.ui.navi={};latte.Class({$name:"latte.ui.navi.Menu",$const:function(a,c,b){this.nodes=[];this.imgs=[];this.parMenuLoc=c;c=this.menuCtrl=latte.ui.navi.MenuControl.getInstance();a=c.getOptMapLst(a);if(latte.isUND(b))b=a[0].defOn,this.defOn=latte.isINT(b)?b:-1;else if(latte.isINT(b))this.defOn=b;c.setInit(this,a)},parMenuLoc:null,menuCtrl:null,optMap:null,qstrPre:null,qstr:null,ctrl:null,nodes:[],imgs:[],defOn:-1,onEvtLst:null,onClassNm:null,onStartFnc:null,onEndFnc:null,extEvtLst:null,extStartFnc:null,extEndFnc:null,actInfo:null,show:function(){try{this.ctrl.style.display="block"}catch(a){}},hide:function(){try{this.ctrl.style.display="none"}catch(a){}}});
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.navi=="undefined")window.latte.ui.navi={};latte.Class({$name:"latte.ui.navi.MenuControl",getOptMapLst:function(a){for(var c=[],b=0;b<a.length;b++)c.push(a[b]);return c},createImg:function(a){var c=a.optMap,b=c.onImage,a=latte.query(a.qstr+" > "+b.qstr,c.range),d=[],g,e,f,h;latte.iter(a,function(a){h={node:a,onImg:new Image,offImg:new Image};g=a.src.split("/");e=g.pop().split(".",2);e[0]=e[0].replace(RegExp(b.onSubNm+"$"),"");f=g.join("/")+(g.length?"/":"");h.onImg.src=f+e[0]+b.onSubNm+"."+e[1];h.offImg.src=f+e[0]+"."+e[1];d.push(h)});return d},setTarget:function(a){var c=a.optMap;if(!c)return null;var b=a.qstr=(c.qstrPre||"")+c.qstr;if(!b)return null;var d=c.range=c.range||document.body;try{var g=a.menuCtrl;a.nodes=latte.query(b,d);a.ctrl=a.nodes[0].parentNode;a.imgs=c.onImage?g.createImg(a):[]}catch(e){a.nodes=[],a.ctrl=null,a.imgs=[]}for(var f=a.nodes,h=f.length;h--;)f[h].menuLoc=[],latte.iter(a.parMenuLoc,function(a){f[h].menuLoc.push(a)}),f[h].menuLoc.push(h),f[h].oMenu=a},setDefaultEvent:function(a){var c=a.menuCtrl,b=a.optMap;a.onEvtLst=b.onEvtLst||null;a.extEvtLst=b.extEvtLst||null;b=c.addChildEvent;a.onEvtLst&&b(function(b){if(latte.isFNC(a.onStartFnc))a.onStartFnc(a,b);c.on(a,b);if(latte.isFNC(a.onEndFnc))a.onEndFnc(a,b)},a.onEvtLst,a);a.extEvtLst&&b(function(b){latte.isFNC(a.extStartFnc)&&a.extStartFnc(a,b);c.extend(a,b);latte.isFNC(a.extEndFnc)&&a.extEndFnc(a,b)},a.extEvtLst,a)},addChildEvent:function(a,c,b){try{latte.iter(b.nodes,function(b,d){latte.observer.add(b,c,function(b){b.stop();a(d)})})}catch(d){return!1}return!0},createChild:function(a,c){if(!c.length)return!1;if(!latte.isMSIE6&&!latte.isMSIE7)c[0].qstrPre=a.qstr+" > ";var b,d=a.defOn>-1;latte.iter(a.nodes,function(g,e){c[0].range=g;var f=[];latte.iter(g.menuLoc,function(a){f.push(a)});b=d&&a.defOn==e?c[0].defOn:-1;g.child=new a.constructor(c,f,b)});return!0},setEventHandler:function(a){var c=a.optMap;if(!c)return null;a.onClassNm=c.onClassNm||"";a.onStartFnc=c.onStart||null;a.onEndFnc=c.onEnd||null;a.extStartFnc=c.extStart||null;a.extEndFnc=c.extEnd||null;if(latte.isFNC(c.showFnc))a.show=c.showFnc;if(latte.isFNC(c.hideFnc))a.hide=c.hideFnc},setInit:function(a,c){var b=a.menuCtrl;a.optMap=c.shift();b.setTarget(a);b.setEventHandler(a);b.setDefaultEvent(a);b.createChild(a,c)},on:function(a,c){var b=a.actInfo;if(!b||!(b[0]==onClassNm&&b[1]==c)){var b=a.menuCtrl,d=a.imgs[c];try{b.off(a,d),b.onImg(d),latte.css.addClass(a.nodes[c],a.onClassNm)}catch(g){}}},off:function(a){try{var c=a.menuCtrl,b=a.imgs;latte.iter(a.nodes,function(d,e){latte.css.isContain(d,a.onClassNm)&&latte.css.removeClass(d,a.onClassNm);c.offImg(b[e]);c.off(d.child)})}catch(d){}},onImg:function(a){if(a)a.node.src=a.onImg.src},offImg:function(a){if(a)a.node.src=a.offImg.src},extend:function(a,c){try{a.menuCtrl.close(a,c);var b=a.nodes[c];b&&b.child&&b.child.show()}catch(d){}},close:function(a,c){try{latte.iter(a.nodes,function(a,b){b!=c&&a.child&&a.child.hide()})}catch(b){}},restore:function(a,c){var b=a.menuCtrl;b.on(a,a.defOn);c||b.extend(a,a.defOn);latte.iter(a.nodes,function(a){a.child&&b.restore(a.child,c)})}});latte.Class.singletone(latte.ui.navi.MenuControl);
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.navi=="undefined")window.latte.ui.navi={};latte.Class({$name:"latte.ui.navi.TreeMenu",$const:function(a){if(a)return latte.ui.addTreeMenuManager(a)},treeCtrl:null,menuClass:latte.ui.navi.Menu,optMap:null,menuObj:null,resDelay:null,init:function(a){this.treeCtrl=a.treeCtrl;this.optMap=a;this.optMap.focQstr=a.focQstr||a.menuQstrs[0]+"> a";this.treeCtrl.init(this)},clear:function(){var a=this.resDelay;a&&a.clear()}});
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.navi=="undefined")window.latte.ui.navi={};latte.Class({$name:"latte.ui.navi.TreeMenuControl",init:function(a){var b=a.optMap;if(!b)return null;var c=a.treeCtrl,d=a.menuObj=c.createMenu(a);if(d==null||!d.ctrl)return null;c.setRestoreEvent(a);c.setFocusEvent(a);d.menuCtrl.restore(d,b.extEvtLst===!1)},addTreeMenuManager:function(a){a.treeCtrl=latte.ui.navi.TreeMenuControl.getInstance();var b=new latte.ui.navi.TreeMenu;latte.ui.onLoad(function(){b.init(a)});return b},createMenu:function(a){var b=a.optMap;if(!b)return null;var c=b.menuQstrs;if(!c||!c.length)return null;var d=a.treeCtrl,e=b.onInitLst||[],g=b.onClassLst||[],i=latte.isUND(b.onEvtLst)?"mouseover":b.onEvtLst,j=latte.isUND(b.extEvtLst)?"click":b.extEvtLst,h=b.imgQstrs||[];latte.iter(c,function(b,f){c[f]={qstr:b,defOn:e[f],onClassNm:g[f],onStart:function(){d.clear(a)},onEvtLst:i,extStart:function(){d.clear(a)},extEvtLst:j};if(!latte.isUND(h[f]))c[f].onImage={onSubNm:h[f][0],qstr:h[f][1]}});return new a.menuClass(c)},setRestoreEvent:function(a){var b=a.treeCtrl,c=a.menuObj,d=c.ctrl;latte.observer.add(d,"mouseover",function(){b.clear(a)});var e=a.optMap.offEvtLst;latte.isUND(e)&&(e="mouseout");if(e){var g=a.optMap.offDelay||300;latte.observer.add(d,e,function(){b.clear(a);a.resDelay=latte.interval(g,function(){c.menuCtrl.restore(c,a.optMap.extEvtLst===!1);return!0})})}},setFocusEvent:function(a){var b=latte.query(a.optMap.focQstr);if(b.length){var c=a.treeCtrl;latte.iter(b,function(a){latte.observer.add(a,"focus",c.selectHdl)})}},findMenuNodes:function(a){for(var b=[];a;)a.oMenu&&b.push(a),a=a.parentNode;return b.reverse()},focusMenu:function(a){for(var a=latte.ui.navi.TreeMenuControl.getInstance().findMenuNodes(a),b,c,d,e=0;b=a[e++];)c=b.menuLoc,b=b.oMenu,d=b.menuCtrl,d.on(b,c[c.length-1]),b.optMap.extEvtLst!=!1&&d.extend(b,c[c.length-1])},selectHdl:function(a){latte.ui.navi.TreeMenuControl.getInstance().focusMenu(a.target)},clear:function(a){(a=a.resDelay)&&a.clear()}});latte.Class.singletone(latte.ui.navi.TreeMenuControl);latte.ui.addTreeMenuManager=latte.ui.navi.TreeMenuControl.getInstance().addTreeMenuManager;
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.form=="undefined")window.latte.ui.form={};latte.Class({$name:"latte.ui.form.InputNumber",$T_LR:0,$T_TB:1,$L_LR:2,$L_TB:3,$R_LR:4,$R_TB:5,$B_LR:6,$B_TB:7,$TB:8,$LR:9,$const:function(a){var b=latte.ui.form.InputNumber,c=this.numCtrl=latte.ui.form.InputNumberControl.getInstance(),a=this.optMap=a;this.changeFnc=a.changeFnc||function(a){return a};this.varUnit=a.varUnit||1;this.limit=a.limit||{min:null,max:null};if(latte.isUND(this.limit.min))this.limit.min=null;if(latte.isUND(this.limit.max))this.limit.max=null;a.btnPos=b.T_LR<=a.btnPos&&b.LR>=a.btnPos?a.btnPos:b.R_TB;a.btnUp=a.btnUp||{};a.btnUp.text=a.btnUp.text||"#{title}(\uc744)\ub97c #{num}(\uc73c)\ub85c \ubcc0\uacbd";a.btnDown=a.btnDown||{};a.btnDown.text=a.btnDown.text||"#{title}(\uc744)\ub97c #{num}(\uc73c)\ub85c \ubcc0\uacbd";c.setTarget(this);c.createCtrlButton(this);c.setScreenHdl(this)},numCtrl:null,optMap:null,varUnit:1,limit:null,resInterval:null,resChange:null,screen:null,area:null,btnUp:null,btnDown:null,evtCheck:function(a){switch(a.type){case "DOMMouseScroll":case "mousewheel":a.stop();break;case "keydown":case "keyup":switch(a.keyCode){case 16:case 9:return!1;case 38:case 40:a.stop()}}return!0},tick:function(a,b){var c=b.numCtrl,d=b.screen,f=800,e=c.computeDelta(a,b);if(e)f=500,e>0?(b.btnUp.focus(),b.btnDown.blur()):(b.btnUp.blur(),b.btnDown.focus()),d.value=c.tranToNumber(d.value-0+e,b);var g=b.changeFnc;b.resChange=latte.interval(f,function(){var a=d.value=c.tranToNumber(d.value,b),a=g(a,b);c.setButtonText(a,b);return!0})},evtHdl:function(a,b){b.resChange&&b.resChange.clear();b.evtCheck(a)&&b.tick(a,b)}});
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.form=="undefined")window.latte.ui.form={};latte.Class({$name:"latte.ui.form.InputNumberControl",$EVT_WHEEL_NM:[latte.isFIREFOX?"DOMMouseScroll":"mousewheel"],setTarget:function(a){if(!a||!a.optMap)return!1;var c=a.optMap;a.screen=latte.query(c.qstrScreen,c.tarNode||document.body)[0]},createCtrlButton:function(a){var c=a.numCtrl,b=a.optMap;a.area=latte.dom.ele.create("span",a.screen.ownerDocument);b.btnUp.nodeType==1?(a.btnUp=b.btnUp,c.setUpButtonHdl(a)):c.createButton(a,"btnUp","setUpButtonHdl");b.btnUp.nodeType==1?(a.btnDown=b.btnDown,c.setDownButtonHdl(a)):c.createButton(a,"btnDown","setDownButtonHdl");a.numCtrl.setButtonText(a.screen.value,a)},createButton:function(a,c,b){var e=a.numCtrl,h=a.optMap[c],d=a.optMap.btnPos,f=a.area,g=a[c]=latte.dom.ele.create("button",a.screen.ownerDocument),j=a.optMap.customClassName;if(j)g.setAttribute("class",j+"-"+c),f.appendChild(g),e[b](a),e.moveCtrlPosition(a);else{var i=function(c){g.style.cssText=c;g.setAttribute("style",c);f.appendChild(g);e[b](a);e.moveCtrlPosition(a)},k="border:0;cursor:pointer;",m=c=="btnUp"?"&and;":"&or;";k+=d%2&&d!=9?"display:block;":"display:inline;";g.innerHTML='<span style="display:block;border:1px solid;width:13px;height:10px;font-size:0.7em;">'+m+"</span>";if(h.imgURL){var l=new Image;latte.observer.add(l,"load",function(){g.innerHTML='<span style="position:absolute;left:0;top:0;height:0;width:0;visibility:hidden;overflow:hidden">'+m+"</span>";k+="background:url("+l.src+") no-repeat 0 0;background-position:0 0;height:"+l.height/2+"px;width:"+l.width+"px";i(k)});l.onerror=function(){this.onerror=null;k+="background-color:#CCCCCC;height:12px;width:15px;";i(k)};l.src=h.imgURL}else k+="background-color:#CCCCCC;height:12px;width:15px;",i(k)}},moveCtrlPosition:function(a){var c=a.area;if(c.childNodes.length==2){var b=latte.ui.form.InputNumber,e=a.optMap,h=e.btnPos,d=a.screen,f=a.btnUp,a=a.btnDown,g=latte.css.getRelativeOffset(d.ownerDocument.body,d),j=g.top+d.offsetTop,i=g.left+d.offsetLeft;if(e=e.customClassName)c.setAttribute("class",e),latte.dom.appendNode.after(d,c);else if(h!=b.TB&&h!=b.LR){c.appendChild(a);latte.dom.appendNode.after(d,c);switch(h){case b.T_LR:case b.T_TB:j+=parseInt(latte.css.getValue(d,"borderTopWidth"));break;case b.L_LR:case b.R_LR:j+=d.offsetHeight/2-Math.max(f.offsetHeight,a.offsetHeight)/2;break;case b.L_TB:case b.R_TB:j+=d.offsetHeight/2-(f.offsetHeight+a.offsetHeight)/2;break;case b.B_LR:j+=d.offsetHeight-parseInt(latte.css.getValue(d,"borderBottomWidth"))-Math.max(f.offsetHeight,a.offsetHeight);break;case b.B_TB:j+=d.offsetHeight-parseInt(latte.css.getValue(d,"borderBottomWidth"))-(f.offsetHeight+a.offsetHeight)}switch(h){case b.T_LR:case b.B_LR:i+=d.offsetWidth/2-(f.offsetWidth+a.offsetWidth)/2;break;case b.T_TB:case b.B_TB:i+=d.offsetWidth/2-Math.max(f.offsetWidth,a.offsetWidth)/2;break;case b.L_LR:case b.L_TB:i+=parseInt(latte.css.getValue(d,"borderLeftWidth"));break;case b.R_LR:i+=d.offsetWidth-parseInt(latte.css.getValue(d,"borderRightWidth"))-(f.offsetWidth+a.offsetWidth);break;case b.R_TB:i+=d.offsetWidth-parseInt(latte.css.getValue(d,"borderRightWidth"))-Math.max(f.offsetWidth,a.offsetWidth)}e="display:block;position:absolute;top:"+j+"px;left:"+i+"px";c.style.cssText=e;c.setAttribute("style",e)}else{latte.dom.appendNode.after(d,a);latte.dom.appendNode.after(d,f);e={};switch(h){case b.LR:j=g.top+d.offsetTop+d.offsetHeight/2-f.offsetHeight/2;i=g.left+d.offsetLeft+parseInt(latte.css.getValue(d,"borderLeftWidth"));e.up=f.style.cssText+";position:absolute;top:"+j+"px;left:"+i+"px";i=g.left+d.offsetLeft+d.offsetWidth-parseInt(latte.css.getValue(d,"borderRightWidth"))-a.offsetWidth;e.down=a.style.cssText+";position:absolute;top:"+j+"px;left:"+i+"px";break;case b.TB:j=g.top+d.offsetTop+parseInt(latte.css.getValue(d,"borderTopWidth")),i=g.left+d.offsetLeft+d.offsetWidth/2-f.offsetWidth/2,e.up=f.style.cssText+";position:absolute;top:"+j+"px;left:"+i+"px",j=g.top+d.offsetTop+d.offsetHeight-parseInt(latte.css.getValue(d,"borderBottomWidth"))-a.offsetHeight,e.down=a.style.cssText+";position:absolute;top:"+j+"px;left:"+i+"px"}f.style.cssText=e.up;f.setAttribute("style",e.up);a.style.cssText=e.down;a.setAttribute("style",e.down)}}},computeDelta:function(a,c){if(latte.isINT(a))return a;var b=c.varUnit;switch(a.wheelDelta||a.keyCode||a.detail){case 38:case -3:case 120:break;case 40:case 3:case -120:b*=-1;break;default:b=0}return b},setScreenHdl:function(a){var c=a.screen;latte.observer.add(c,latte.ui.form.InputNumberControl.EVT_WHEEL_NM,function(b){a.evtHdl(b,a)});latte.observer.add(c,"keydown",function(b){switch(b.keyCode){case 38:case 40:a.evtHdl(b,a)}});latte.observer.add(c,"keyup",function(b){switch(b.keyCode){case 13:case 32:break;default:a.evtHdl(b,a)}})},setUpButtonHdl:function(a){a.numCtrl.setButtonHdl(a.varUnit,a,a.btnUp)},setDownButtonHdl:function(a){a.numCtrl.setButtonHdl(a.varUnit*-1,a,a.btnDown)},setButtonHdl:function(a,c,b){latte.observer.add(b,latte.ui.form.InputNumberControl.EVT_WHEEL_NM,function(a){c.evtHdl(a,c)});latte.observer.add(b,"keydown",function(a){switch(a.keyCode){case 38:case 40:c.evtHdl(a,c);case 37:case 39:a.stop()}});latte.observer.add(b,"click",function(){c.evtHdl(a,c)});latte.observer.add(b,"mousedown",function(){c.resInterval&&c.resInterval.clear();c.resInterval=latte.interval(200,function(){c.evtHdl(a,c)});c.resInterval.interval=40});latte.observer.add(b,"mouseup",function(){c.resInterval&&c.resInterval.clear()});latte.observer.add(b,"mouseout",function(){c.resInterval&&c.resInterval.clear();try{b.style.backgroundPosition="0 0"}catch(a){}});latte.observer.add(b,"blur",function(){try{b.style.backgroundPosition="0 0"}catch(a){}});var e=b.style.height;latte.observer.add(b,["mouseover","focus"],function(){try{b.style.backgroundPosition="0 -"+e}catch(a){}})},setButtonText:function(a,c){var b=c.optMap,e=c.screen.title||"\ub0b4\uc6a9",h=c.limit,d=c.varUnit,a=a.toString().replace(/[^-0-9\.]/,"")-0,f,g=b.btnUp;if(g.imgURL)f=a+d,h.max!=null&&f>h.max&&(f=b.isRepeat&&h.min!=null?h.min:h.max),c.btnUp.title=latte.tpl.eval(g.text,{title:e,num:f});g=b.btnDown;if(g.imgURL)f=a-d,h.min!=null&&f<h.min&&(f=b.isRepeat&&h.max!=null?h.max:h.min),c.btnDown.title=latte.tpl.eval(g.text,{title:e,num:f})},tranToNumber:function(a,c){var b=c.limit,e=c.optMap,a=a.toString().replace(/[^-0-9\.]/,"")-0,a=isNaN(a)?0:a;b.max!=null&&a>b.max?a=e.isRepeat&&b.min!=null?b.min:b.max:b.min!=null&&a<b.min&&(a=e.isRepeat&&b.max!=null?b.max:b.min);return a}});latte.Class.singletone(latte.ui.form.InputNumberControl);
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.form=="undefined")window.latte.ui.form={};latte.Class({$name:"latte.ui.form.Calendar",$const:function(){},opt:null,yerMgr:null,monMgr:null,calCtrl:null,tplPath:null,tplURL:null,calNode:null,opnImg:null,opnNode:null,opnClassNm:null,zIndex:null,qstRow:null,qstCell:null,qstButton:null,yerNode:null,yerPrvNode:null,yerNxtNode:null,monNode:null,monPrvNode:null,monNxtNode:null,tdyNodes:null,clrNodes:null,clsNodes:null,fstNode:null,lstNode:null,classNmMap:null,holidayMap:null,fmtDate:null,matYMD:null,ptnYMD:null,today:null,ymd:null,limUnder:null,limOver:null,ifmTpl:null,init:function(b){this.opt=b=b||this.opt;this.calCtrl=b.calCtrl;var a=b.tplURL||this.calCtrl.DEF_TPL_URL,c=a.split("/");c.pop();c=c.join("/");c.length&&(c+="/");this.tplPath=c;this.tplURL=a;this.calNode=b.calNode;this.opnImg=b.opnImg||c+"img/btn_cal.gif";this.opnClassNm=b.opnClassNm||this.calCtrl.AREAY_CLASS_NM;this.zIndex=latte.isINT(b.zIndex)?b.zIndex:this.calCtrl.DEF_IFM_ZINDEX;this.qstRow=b.qstRow||"tbody > tr";this.qstCell=b.qstCell||"td";this.qstButton=b.qstButton||"button";this.yerNode=b.yerNode||"#year";this.yerPrvNode=b.yerPrvNode||".prevy";this.yerNxtNode=b.yerNxtNode||".nexty";this.monNode=b.monNode||"#month";this.monPrvNode=b.monPrvNode||".prevm";this.monNxtNode=b.monNxtNode||".nextm";this.tdyNodes=b.tdyNodes||"button.today";this.clrNodes=b.delNodes||".clear";this.clsNodes=b.clsNodes||".close";this.fstNode=b.fstNode||"#year";this.lstNode=b.lstNode||".close";a=this.classNmMap=b.classNmMap||{};a.prv=a.prv||"prev";a.nxt=a.nxt||"next";a.hol=a.hol||"holi";a.cur=a.cur||"today";a.sel=a.sel||"active";a.prvsun=a.prvsun||"prevsun";a.nxtsun=a.nxtsun||"nextsun";a.prvsat=a.prvsat||"prevsat";a.nxtsat=a.nxtsat||"nextsat";a.prvhol=a.prvhol||"prevholi";a.nxthol=a.nxthol||"nextholi";this.holidayMap=b.holidayMap||{solar:{},lunar:{}};a=new Date;this.today=[a.getFullYear(),a.getMonth()+1,a.getDate()];var a=this.fmtDate=b.fmtDate||this.calCtrl.DEF_FMT_YMD,d=this.matYMD=[];this.ptnYMD=RegExp("^"+a.replace(/(#\{(Y+|M+|D+)\})/g,function(){var a=arguments;d.push(a[2]);return"([0-9]{"+a[2].length+"})"})+"$");if((a=this.limUnder=b.limUnder)&&latte.isINT(a[0])&&latte.isINT(a[1])&&latte.isINT(a[2]))this.limUnder=new Date(a[0],a[1],a[2]),this.limUnder.data=a;if((a=this.limOver=b.limOver)&&latte.isINT(a[0])&&latte.isINT(a[1])&&latte.isINT(a[2]))this.limOver=new Date(a[0],a[1],a[2]),this.limOver.data=a;b=b.callback||{};this.callback={lodBefore:b.lodBefore||latte.blkFnc,lodAfter:b.lodAfter||latte.blkFnc,opnBefore:b.opnBefore||latte.blkFnc,opnAfter:b.opnAfter||latte.blkFnc,selBefore:b.selBefore||latte.blkFnc,selAfter:b.selAfter||latte.blkFnc,clsBefore:b.clsBefore||latte.blkFnc,clsAfter:b.clsAfter||latte.blkFnc,errFormat:b.errFormat||latte.blkFnc,errUnder:b.errUnder||latte.blkFnc,errOver:b.errOver||latte.blkFnc};this.calCtrl.init(this)}});
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.form=="undefined")window.latte.ui.form={};latte.Class({$name:"latte.ui.form.CalendarControl",AREAY_CLASS_NM:"cal-aready",DEF_TPL_URL:"latte.ui.form.Calendar/ui.html",DEF_FMT_YMD:"#{YYYY}-#{MM}-#{DD}",DEF_IFM_ZINDEX:50,ifmNodes:[],hdlParent:{syncInputToCalendar:function(a,c,b){a=b.calObj;c=a.calCtrl;try{c.syncInputToCalendar(a)}catch(f){}},openCalendar:function(a,c,b){var a=b.calObj,f=a.callback;if(!f.opnBefore(a)){var e=b.parHdl;a.init();e.removeCalendarFrames(b);e.createCalenderFrame(b,c);f.opnAfter(a)}},loadCalendar:function(a,c,b){b.parHdl.loadCalendar(b,c)}},hdlCalendar:{clickDate:function(a,c,b){var c=b.calObj,f=c.callback;f.selBefore(c,b.ymd)||(b.calHdl.clickDate(b,a),f.selAfter(c,b.ymd))},keydownDate:function(a,c,b){b.calHdl.keydownDate(b,a)},keydownPage:function(a,c,b){b.calHdl.keydownPage(b,a)},selectToday:function(a,c,b){b.calHdl.selectToday(b,a)},clearDate:function(a,c,b){b.calHdl.clearDate(b,a)},closeCalendar:function(a,c,b){b.calHdl.closeCalendar(b,a)},focusLastNode:function(a,c,b){b.calHdl.focusLastNode(b,a)},focusFirstNode:function(a,c,b){b.calHdl.focusFirstNode(b,a)}},init:function(a){var c=a.calCtrl;if(!a.opnNode){var b=a.callback;b.lodBefore(a)||(c.appendOpenButton(a),b.lodAfter(a))}},addCalendarManager:function(a){var c,b,f=latte.ui.form.Calendar,e=latte.ui.form.CalendarControl.getInstance(),d=e.AREAY_CLASS_NM;a.calCtrl=e;latte.ui.onLoad(function(){var e=latte.query(a.calNode,a.docNode);latte.iter(e,function(e){if(!latte.css.isContain(e,d))latte.css.addClass(e,d),b=new f,c=latte.object.clone(a),c.calNode=e,b.init(c)})});return b},appendOpenButton:function(a){var c=a.calNode,b=a.calCtrl.hdlParent,f=latte.ui.form.CalendarParentHandler.getInstance();c.calObj=a;latte.observer.add(c,"keyup",b.syncInputToCalendar);var e=a.opnNode=latte.dom.ele.create("button",c.ownerDocument);e.setAttribute("type","button");e.className=a.opnClassNm;e.calObj=a;e.parHdl=f;c.id&&e.setAttribute("id",c.id+"OpenCalendarButton");c.name&&e.setAttribute("name",c.name+"OpenCalendarButton");latte.observer.add(e,"click",b.openCalendar);var d=new Image,g="position:relative; display:inline;vertical-align:middle;border:0;cursor:pointer;",h=function(a){a+="margin:0 2px 1px -"+(d.width+2)+"px;height:"+d.height+"px;width:"+d.width+"px;";e.style.cssText=a;e.setAttribute("style",a);latte.dom.appendNode.after(c,e)};latte.observer.add(d,"load",function(){e.innerHTML='<span style="position:absolute;left:0;top:0;height:0;width:0;visibility:hidden;overflow:hidden">\ub0a0\uc9dc \uc120\ud0dd</span>';h(g+="background-image:url("+d.src+");")});d.onerror=function(){this.onerror=null;this.width=18;this.height=17;e.innerHTML='<span style="display:block;border:1px solid;width:13px;height:10px;font-size:0.7em;">\ub0a0\uc9dc \uc120\ud0dd</span>';h(g+="background-color:#CCCCCC;")};d.src=a.opnImg;return e},createDate:function(){var a,c=arguments;a=c.length&&!latte.isUND(c[0])?new Date(c[0],latte.isUND(c[1])?0:c[1]-1,c[2]):new Date;var c=a.getFullYear(),b=a.getMonth()+1,f=a.getDate();a.setDate(0);var e=a.getDate()-(a.getDay()||7)-1;a=new Date(a.getFullYear(),a.getMonth(),e);a.nextDate=function(b){this.setDate(this.getDate()+(b||1));return[a.getFullYear(),a.getMonth()+1,a.getDate()]};a.date=f;a.month=b;a.year=c;return a},toDateString:function(a,c){var b=latte.isUND(a[0])?"":a[0].toString(),f=latte.isUND(a[1])?"":"0"+a[1].toString(),e=f.match(/1?[0-9]$/),d=latte.isUND(a[2])?"":"0"+a[2].toString(),g=d.match(/1?[0-9]$/);return latte.tpl.eval(c,{YYYY:b,MM:f.length?f.match(/[0-9]{2}$/)[0]:"",M:e?e[0]:"",DD:d.length?d.match(/[0-9]{2}$/)[0]:"",D:g?g[0]:""})},rewriteCalendar:function(a,c,b,f){var c=a.calCtrl.createDate(c,b,f),b=a.classNmMap,f=a.holidayMap,e=a.rows,d=a.yerNode.value=c.year,g=a.monNode.value=c.month,h=c.date,n=a.today,l=a.ymd,p=latte.ui.calendar;a.stat.msg();a.yerMgr.numCtrl.setButtonText(d,a.yerMgr);a.monMgr.numCtrl.setButtonText(g,a.monMgr);for(var i,r=null,j,o,s,m,q=0;q<6;q++)for(var k=0;k<7;k++)switch(a=e[q][k],(i=a.btnNode).innerHTML=(d=i.ymd=c.nextDate())[2],j=p.toLunar(d[0],d[1],d[2]),o=d[1]-g,s=o===-1?b.prvhol:o===0?b.hol:b.nxthol,m=f.solar[d[1]+"."+d[2]]||f.lunar[j[1]+"."+j[2]],l&&l[1]==d[1]&&l[2]==d[2]&&l[0]==d[0]?latte.css.addClass(a,b.sel):latte.css.removeClass(a,b.sel),n[1]==d[1]&&n[2]==d[2]&&n[0]==d[0]?latte.css.addClass(a,b.cur):latte.css.removeClass(a,b.cur),!m&&p.lunarMonthTable[j[0]-1899][j[1]-1]+28==j[2]&&(m=f.lunar[j[1]+".last"]),m?(latte.css.addClass(a,s),i.title=d.join(".")+" - "+m):(latte.css.removeClass(a,b.prvhol),latte.css.removeClass(a,b.hol),latte.css.removeClass(a,b.nxthol),i.title=d.join(".")),o){case 11:case -1:i.isInBound=!1;latte.css.addClass(a,b.prv);latte.css.removeClass(a,b.nxt);k?latte.css.removeClass(a,b.prvsun):latte.css.addClass(a,b.prvsun);k==6?latte.css.addClass(a,b.prevsat):latte.css.removeClass(a,b.prevsat);break;case 0:i.isInBound=!0;latte.css.removeClass(a,b.prv);latte.css.removeClass(a,b.nxt);latte.css.removeClass(a,b.prvsun);latte.css.removeClass(a,b.prevsat);latte.css.removeClass(a,b.nxtsun);latte.css.removeClass(a,b.nxtsat);d[2]==h&&(r=i);break;case -11:case 1:i.isInBound=!1,latte.css.removeClass(a,b.prv),latte.css.addClass(a,b.nxt),k?latte.css.removeClass(a,b.nxtsun):latte.css.addClass(a,b.nxtsun),k==6?latte.css.addClass(a,b.nxtsat):latte.css.removeClass(a,b.nxtsat)}return r},syncCalendarToInput:function(a){a.calNode.value=a.calCtrl.toDateString(a.ymd,a.fmtDate);a.stat.msg()},syncInputToCalendar:function(a){var c=a.calCtrl,b=a.matYMD,f=a.stat,e=a.calNode.value,d=e.match(a.ptnYMD),g=[null,null,null];try{d.shift();for(var h=b.length;h--;)switch(b[h]){case "YYYY":g[0]=d[h]-0;break;case "MM":case "M":g[1]=d[h]-0;break;case "DD":case "D":g[2]=d[h]-0}}catch(n){if(e&&f.msg("\ub0a0\uc9dc\ud615\uc2dd \uc624\ub958\uc785\ub2c8\ub2e4.",f.ERROR),g=a.callback.errFormat(a,e),!g)return!1}try{var l=a.today,g=[g[0]==null?l[0]:g[0],g[1]==null?1:g[1],g[2]==null?1:g[2]];a.ymd=g;c.rewriteCalendar(a,g[0],g[1],g[2])}catch(p){return f.msg("\ub0a0\uc9dc\ud615\uc2dd \uc624\ub958\uc785\ub2c8\ub2e4.",f.ERROR),!1}f.msg();return!0},changeYM:function(a,c){var b=c.calObj;b.calCtrl.rewriteCalendar(b,b.yerNode.value-0,b.monNode.value-0,1);return a},checkLimit:function(a,c){var b=c.callback,f=c.limUnder,e=c.limOver;if(!f&&!e)return!0;var d=c.stat,g=(new Date(a[0],a[1],a[2])).getTime();if(f&&f.getTime()>g)return d.msg("\uc9c0\uc815\uac00\ub2a5 \ucd5c\uc18c\ub0a0\uc9dc \ubbf8\ub9cc",d.ERROR),b.errUnder(c,a,f.data);if(e&&e.getTime()<g)return d.msg("\uc9c0\uc815\uac00\ub2a5 \ucd5c\ub300\ub0a0\uc9dc \ucd08\uacfc",d.ERROR),b.errOver(c,a,e.data);return!0}});latte.Class.singletone(latte.ui.form.CalendarControl);latte.ui.addCalendarManager=latte.ui.form.CalendarControl.getInstance().addCalendarManager;
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.form=="undefined")window.latte.ui.form={};latte.Class({$name:"latte.ui.form.CalendarHandler",clickDate:function(a,b){var d=a.calHdl,e=a.calObj,c=e.calCtrl;c.checkLimit(a.ymd,e)?(e.ymd=a.ymd,c.syncCalendarToInput(e),d.closeCalendar(a,b)):b.stop()},keydownDate:function(a,b){var d=a.calObj,e=d.calCtrl,c=d.rows,f=a.posMatrix.x,g=a.posMatrix.y,i,j=b.keyCode,h=0;switch(j){case 37:!f&&!g&&(h=-1);break;case 38:j==38&&!g&&(h=-7);break;case 39:j==39&&f==6&&g==5&&(h=1);break;case 40:j==40&&g==5&&(h=7);break;default:return}d.stat.msg();if(h)c=a.ymd,a=e.rewriteCalendar(d,c[0],c[1],c[2]+h);else{switch(j){case 37:i=f==0?g==0?c[5][6]:c[g-1][6]:c[g][f-1];break;case 38:i=g==0?c[5][f]:c[g-1][f];break;case 39:i=f==6?g==5?c[0][0]:c[g+1][0]:c[g][f+1];break;case 40:i=g==5?c[0][f]:c[g+1][f]}if(!(a=i.btnNode).isInBound)c=a.ymd,a=e.rewriteCalendar(d,c[0],c[1],c[2])}b.stop();a.focus()},keydownPage:function(a,b){var d=a.calHdl,e=a.calObj,c=e.calCtrl,f=[e.yerNode.value-0,e.monNode.value-0,1];switch(b.keyCode){case 33:++f[1];break;case 34:--f[1];break;case 27:d.closeCalendar(a,b);return;case 9:e.stat.msg();return;default:return}e.stat.msg();c.rewriteCalendar(e,f[0],f[1],f[2])},selectToday:function(a,b){var d=a.calObj,e=d.calCtrl,c=d.ymd=d.today;e.checkLimit(c,d)&&(e.rewriteCalendar(d,c[0],c[1],c[2]),e.syncCalendarToInput(d));b.stop()},clearDate:function(a,b){var d=a.calHdl,e=a.calObj;e.calNode.value="";e.ymd=null;d.closeCalendar(a,b)},closeCalendar:function(a){var b=a.calObj,d=b.callback;if(!d.clsBefore(b))a=a.ownerDocument.ifmNode,a.parentNode.removeChild(a),latte.interval(15,function(){b.opnNode.focus();return!0}),d.clsAfter(b)},focusLastNode:function(a,b){if(!b.altKey&&!b.ctrlKey&&b.shiftKey&&b.keyCode==9){var d=a.calObj;b.stop();d.lstNode.focus()}},focusFirstNode:function(a,b){if(!b.altKey&&!b.ctrlKey&&!b.shiftKey&&b.keyCode==9){var d=a.calObj;b.stop();d.fstNode.focus()}}});latte.Class.singletone(latte.ui.form.CalendarHandler);
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.form=="undefined")window.latte.ui.form={};latte.Class({$name:"latte.ui.form.CalendarParentHandler",removeCalendarFrames:function(a){for(var a=a.calObj.calCtrl,b;b=a.ifmNodes.shift();)try{b.parentNode.removeChild(b)}catch(c){}},createCalenderFrame:function(a,b){var c=a.calObj,d=c.calCtrl,f=d.hdlParent,h=a.parHdl,g=c.calNode.ownerDocument,e=latte.dom.ele.create("iframe",g);e.scrolling="no";e.frameBorder="0";e.parHdl=h;e.calObj=c;e.bakScroll={x:g.documentElement.scrollLeft||b.scrollX,y:g.documentElement.scrollTop||b.scrollY};h="visibility:hidden;display:block;border:0;position:absolute;top:0px;z-index:"+c.zIndex+";";e.style.cssText=h;e.setAttribute("style",h);latte.dom.appendNode.after(c.opnNode,e);latte.observer.add(e,"load",f.loadCalendar);e.src=c.tplURL;d.ifmNodes.push(e);return e},loadCalendar:function(a,b){var c=a.parHdl,d=a.calObj,f=d.calCtrl;a.contentWindow.document.ifmNode=a;c.tranNodeYM(a);c.setStatusNode(a);c.createTemplate(a);c.createCalendarMatrix(a);f.syncInputToCalendar(d)||f.rewriteCalendar(d);c.resizeCalendarFrame(a);c.setCalendarPosistion(a);c.setControlEvent(a);c.setTitle(a);if(latte.isSAFARI)a.tabIndex=0;a.style.visibility="visible";d.fstNode.focus();c=a.bakScroll;b.scroll(c.x,c.y)},tranNodeYM:function(a){var b=a.calObj,c=b.calCtrl,a=a.contentWindow.document.body,d=latte.ui.form.InputNumber;b.yerMgr=new d({tarNode:a,qstrScreen:b.yerNode,changeFnc:c.changeYM,btnUp:b.yerNxtNode=latte.query(b.yerNxtNode,a)[0],btnDown:b.yerPrvNode=latte.query(b.yerPrvNode,a)[0]});b.monMgr=new d({tarNode:a,qstrScreen:b.monNode,changeFnc:c.changeYM,limit:{min:1,max:12},btnUp:b.monNxtNode=latte.query(b.monNxtNode,a)[0],btnDown:b.monPrvNode=latte.query(b.monPrvNode,a)[0]});b.yerMgr.calObj=b;b.monMgr.calObj=b;b.yerNode=b.yerMgr.screen;b.monNode=b.monMgr.screen},setStatusNode:function(a){var b=latte.dom.ele.getById,c=a.calObj,d=a.contentWindow.document,a=b("caption",d),f=b("wrgimg",d),b=b("wrgmsg",d),d=b.innerHTML?b.innerHTML:"&nbsp;";if(a)a.fmtDate=a.innerHTML,a.innerHTML="\ub0a0\uc9dc \uc785\ub825 \ud3fc";if(f)f=f.style,f.display="none";c.stat={calObj:c,ERROR:0,NOTE:1,capmsg:a,wrgimg:f,wrgmsg:b,defmsg:d,msg:function(a,b){if(this.wrgimg)switch(b){case this.ERROR:this.wrgimg.display="";break;default:this.wrgimg.display="none"}if(this.wrgmsg)this.wrgmsg.innerHTML=arguments.length?a:this.defmsg;var c=this.capmsg,d=this.calObj;if(c&&b!=this.ERROR&&d.ymd)c.innerHTML=d.calCtrl.toDateString(d.ymd,c.fmtDate)}}},createTemplate:function(a){var b=a.calObj,a=a.contentWindow.document,c=b.ifmTpl={};c.row=latte.query(b.qstRow,a)[0];c.cells=latte.query(b.qstCell,c.row);c.rowParent=c.row.parentNode;c.rowParent.removeChild(c.row);return c},createCalendarMatrix:function(a){for(var a=a.calObj,b=a.calCtrl.hdlCalendar,c=latte.ui.form.CalendarHandler.getInstance(),d=a.ifmTpl,f=d.cells,h=a.rows=[],g,e,i=0;i<6;i++){h.push(g=d.row.cloneNode(!1));for(var j=0;j<7;j++)g[j]=e=f[j].cloneNode(!0),btnNode=e.btnNode=latte.query(a.qstButton,e)[0],btnNode.cell=e,latte.observer.add(btnNode,"click",b.clickDate),latte.observer.add(btnNode,"keydown",b.keydownDate),btnNode.calObj=a,btnNode.calHdl=c,btnNode.posMatrix={x:j,y:i},g.appendChild(e);d.rowParent.appendChild(g)}},resizeCalendarFrame:function(a){var b=a.style,a=a.contentWindow.document.body;b.height=a.offsetHeight+"px";b.width=a.offsetWidth+"px"},setCalendarPosistion:function(a){for(var b=a.calObj.calNode,c=latte.css.getRelativeOffset(b),a=a.style,c=b.offsetParent;c;){switch(latte.css.getValue(c,"position")){case "relative":case "absolute":break;default:if(c.nodeName=="body")break;c=c.offsetParent;continue}break}c=latte.css.getRelativeOffset(c,b);a.top=c.top+b.offsetTop+b.offsetHeight+"px";a.left=c.left+b.offsetLeft+"px"},setControlEvent:function(a){var b=a.calObj,a=a.contentWindow.document.body,c=b.calCtrl.hdlCalendar,d=latte.ui.form.CalendarHandler.getInstance(),f=b.tdyNodes=latte.query(b.tdyNodes,a),h=b.clrNodes=latte.query(b.clrNodes,a),g=b.clsNodes=latte.query(b.clsNodes,a),e=b.fstNode=latte.query(b.fstNode,a)[0],i=b.lstNode=latte.query(b.lstNode,a)[0];latte.iter(f,function(a){a.calObj=b;a.calHdl=d;latte.observer.add(a,"click",c.selectToday)});latte.iter(h,function(a){a.calObj=b;a.calHdl=d;latte.observer.add(a,"click",c.clearDate)});latte.iter(g,function(a){a.calObj=b;a.calHdl=d;latte.observer.add(a,"click",c.closeCalendar)});e.calObj=b;e.calHdl=d;latte.observer.add(e,"keydown",c.focusLastNode);i.calObj=b;i.calHdl=d;latte.observer.add(i,"keydown",c.focusFirstNode);a.calObj=b;a.calHdl=d;latte.observer.add(a,"keydown",c.keydownPage)},setTitle:function(a){var b=a.calObj,c=b.calNode,d=c.title;if(!d)try{d=latte.query("label[for="+c.id+"]",c.ownerDocument.body)[0].innerHTML}catch(f){d="\ub0a0\uc9dc \uc785\ub825"}b.opnNode.title=d+" - \uc120\ud0dd\uc6a9 \ub2ec\ub825 \uc5f4\uae30";b.yerNode.ownerDocument.title=d+" - \uc120\ud0dd\uc6a9 \ub2ec\ub825 \uc601\uc5ed";a.title=d+" - \uc120\ud0dd\uc6a9 \ub2ec\ub825 \ucc3d";for(var c=d+" - \uc120\ud0dd\uc6a9 \ub2ec\ub825 \ub2eb\uae30",h,g=b.clsNodes,a=0;h=g[a++];)h.title=c;d+=" - \uc624\ub298\ub85c \uc120\ud0dd";c=b.tdyNodes;for(a=0;b=c[a++];)b.title=d}});latte.Class.singletone(latte.ui.form.CalendarParentHandler);
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.layer=="undefined")window.latte.ui.layer={};latte.Class({$name:"latte.ui.layer.Popup",$const:function(){},popCtrl:null,url:null,popNm:null,callback:null,posRel:null,posSave:null,useMove:null,useResize:null,evtNm:null,sizIni:null,sizMax:null,sizMin:null,classNm:null,cssText:null,ifmNode:null,docNode:null,opnNode:null,tarNode:null,init:function(a){this.popCtrl=a.popCtrl;this.url=a.url;this.popNm=a.popNm;this.title=a.title;var b=a.callback||{};this.callback={lodBefore:b.lodBefore||latte.blkFnc,lodAfter:b.lodAfter||latte.blkFnc,opnBefore:b.opnBefore||latte.blkFnc,opnAfter:b.opnAfter||latte.blkFnc,apyBefore:b.apyBefore||latte.blkFnc,apyAfter:b.apyAfter||latte.blkFnc,clsBefore:b.clsBefore||latte.blkFnc,clsAfter:b.clsAfter||latte.blkFnc};this.posRel=a.posRel;this.posSave=latte.isUND(a.posSave)?!1:a.posSave?!0:!1;this.useMove=latte.isUND(a.useMove)?!0:a.useMove?!0:!1;this.useResize=latte.isUND(a.useResize)?!0:a.useResize?!0:!1;this.evtNm=a.evtNm||"click";this.sizIni=a.sizIni||[null,null];this.sizMax=a.sizMax||[this.sizIni[0],this.sizIni[1]];this.sizMax[0]==null&&(this.sizMax[0]=1E4);this.sizMax[1]==null&&(this.sizMax[1]=1E4);this.sizMin=a.sizMin||[this.sizIni[0],this.sizIni[1]];this.sizMin[0]==null&&(this.sizMin[0]=100);this.sizMin[1]==null&&(this.sizMin[1]=100);this.classNm=a.classNm;this.cssText=a.cssText;this.docNode=a.docNode?a.docNode:a.opnNode?a.opnNode.ownerDocument:window.document;this.opnNode=a.opnNode;this.tarNode=a.tarNode;this.evtNode=a.evtNode;if(this.opnNode)this.opnNode.popObj=this;this.popCtrl.init(this)}});
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.layer=="undefined")window.latte.ui.layer={};latte.Class({$name:"latte.ui.layer.PopupControl",popMap:{},posCloseMap:{},strZIdx:7E3,hdlParent:{loadPopup:function(a,c,b){b.parHdl.loadPopup(b,c)}},hdlPopup:{focus:function(a,c){var b=c.popObj.ifmNode;b.parHdl.focusPopup(b)},move:{down:function(a,c){var b=c.popObj.ifmNode;b.parHdl.focusPopup(b)},move:function(a,c,b){a=latte.dom.ele.getWindow(b);b=b._oDrag.movPos;a.moveBy(b.x,b.y)}},resize:{down:function(a,c){var b=c.popObj.ifmNode;b.parHdl.focusPopup(b)},move:function(a,c,b){var a=latte.dom.ele.getWindow(b),c=a.popObj,d=c.ifmNode,e=parseInt(d.width)+b._oDrag.movPos.x,b=parseInt(d.height)+b._oDrag.movPos.y;a.resizeTo(Math.max(Math.min(e,c.sizMax[0]),c.sizMin[0]),Math.max(Math.min(b,c.sizMax[1]),c.sizMin[1]))}},apply:function(a,c,b){c=latte.dom.ele.getWindow(b);c.apply(c.value,!0,c)&&a.stop()},close:function(a,c,b){a.type=="keydown"&&a.keyCode!=27||(c=latte.dom.ele.getWindow(b),c.closePopup(c)&&a.stop())}},init:function(a){var c=a.callback;if(!c.opnBefore(a)){var b=latte.ui.layer.PopupParentHandler.getInstance();b.setNodes(a);b.createPopupFrame(a,b);c.opnAfter(a)}},open:function(a,c,b,d){var e=latte.ui.layer.PopupControl.getInstance(),g=e.popMap,f=g[c],d=d||{},c=d.popNm=c||"_blank";d.url=a;d.sizIni=b;d.popCtrl=e;f=g[c]=new latte.ui.layer.Popup;latte.ui.onLoad(function(){f.init(d)});return f},close:function(a){var c=a.popCtrl,b=a.ifmNode,d=a.opnNode;b&&b.parentNode&&b.parentNode.removeChild(b);delete c.popMap[a.popNm];for(c.resetZIndex();!/^a|button|input|textarea|select$/i.test(d.nodeName);)d=d.parentNode;latte.interval(15,function(){try{d.focus()}catch(a){}return!0})},closeAll:function(){var a=latte.ui.layer.PopupControl.getInstance();latte.iter(a.popMap,function(a){(a=a.ifmNode)&&a.parentNode&&a.parentNode.removeChild(a)});a.popMap={}},focus:function(a){a=a.ifmNode;a.parHdl.focusPopup(a)},resetZIndex:function(){var a=latte.ui.layer.PopupControl.getInstance(),c=a.strZIdx,b=[];latte.iter(a.popMap,function(a){b.push(a)});b.sort(a.sortByZIndex);for(var a=0,d;d=b[a++];)d.ifmNode.style.zIndex=c+a-1},sortByZIndex:function(a,c){return a.ifmNode.style.zIndex-0-(c.ifmNode.style.zIndex-0)}});latte.Class.singletone(latte.ui.layer.PopupControl);(function(){var a=latte.ui.layer.PopupControl.getInstance();latte.ui.open=a.open;latte.ui.close=a.close;latte.ui.closeAll=a.closeAll;latte.ui.focus=a.focus})();
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.layer=="undefined")window.latte.ui.layer={};latte.Class({$name:"latte.ui.layer.PopupHandler",hdlPopupWindowOverride:{moveTo:function(c,b){var a=arguments.callee.popWin.popObj,d=a.ifmNode.style,a=a.popCtrl.posCloseMap[a.popNm]=[c,b];d.left=a[0]+"px";d.top=a[1]+"px"},moveBy:function(c,b){var a=arguments.callee.popWin.popObj,d=a.ifmNode.style,a=a.popCtrl.posCloseMap[a.popNm]=[parseInt(d.left)+c,parseInt(d.top)+b];d.left=a[0]+"px";d.top=a[1]+"px"},resizeTo:function(c,b){var a=arguments.callee.popWin.popObj.ifmNode;if(latte.isINT(c))a.width=c;if(latte.isINT(b))a.height=b},resizeBy:function(c,b){var a=arguments.callee.popWin.popObj.ifmNode;latte.isINT(c)&&(a.width+=c);latte.isINT(b)&&(a.height+=b)},apply:function(c,b){var a=arguments.callee.popWin,d=a.popObj;if(d.callback.apyBefore(d)===!0)return!1;if(d.tarNode){var e=latte.isUND(c)?a.value:c;d.tarNode.value=a.value=latte.isUND(e)?"":e}b&&a.closePopup();d.callback.apyAfter(d);return!0},closePopup:function(c){var c=c||arguments.callee.popWin,b=c.popObj,a=b.ifmNode,d=b.popCtrl;a.parHdl.focusPopup(a);if(b.callback.clsBefore(b)===!0)return!1;b.callback.clsAfter(b);d.close(b);return!0}}});latte.Class.singletone(latte.ui.layer.PopupHandler);
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.layer=="undefined")window.latte.ui.layer={};latte.Class({$name:"latte.ui.layer.PopupParentHandler",setNodes:function(a){var b=a.docNode,c=a.opnNode,d=a.tarNode;if(latte.isSTR(c))c=a.opnNode=latte.query(c,b)[0];if(latte.isUND(c))c=a.opnNode=latte.ui.event.getEvent().target;c&&c==b&&delete a.opnNode;if(latte.isSTR(d))a.tarNode=latte.query(d,b)[0]},createPopupFrame:function(a){var b=a.popCtrl.hdlParent,c=latte.ui.layer.PopupParentHandler.getInstance(),d=a.opnNode,f=a.sizIni,e=latte.dom.ele.create("iframe",a.docNode);if(latte.isSAFARI)e.tabIndex=-1;e.scrolling="no";e.frameBorder="0";e.parHdl=c;e.popObj=a;a.ifmNode=e;if(a.classNm)e.className=a.classNm;if(a.cssText)popStyle.cssText=a.cssText,e.setAttribute("style",a.cssText);e.style.position="absolute";if(d){if(d.parentNode.nodeName=="A")d=d.parentNode;latte.dom.appendNode.after(d,e)}else a.docNode.body.appendChild(e);latte.observer.add(e,"load",b.loadPopup);c.movePosition(e);if(latte.isINT(f[0]))e.width=f[0];if(latte.isINT(f[1]))e.height=f[1];e.src=a.url;return e},loadPopup:function(a){var b=a.parHdl,c=a.contentWindow,d=a.popObj.sizIni||[];try{if(b.setControlEvent(a),b.setTitle(a),b.focusPopup(a),!latte.isINT(d[0])||!latte.isINT(d[1])){var c=a.contentWindow,f=c.document.body;latte.interval(200,function(){c.resizeTo(d[0]||f.offsetWidth,d[1]||f.offsetHeight);return!0})}}catch(e){}},focusPopup:function(a){var b=a.popObj.popCtrl,c=b.strZIdx,d=0;latte.iter(b.popMap,function(){d++});a.style.zIndex=c+d+10;b.resetZIndex()},setControlEvent:function(a){var b=a.popObj,c=b.popCtrl.hdlPopup,d=b.parHdl,f=latte.ui.layer.PopupHandler.getInstance(),e=latte.dom.DragHandler.getInstance(),g=a.contentWindow,h=g.document,i=h.body,a=latte.query(".layer-drag",i),j=latte.query(".layer-resize",i),k=latte.query(".layer-apply",i),i=latte.query(".layer-close",i),h=latte.isMSIE?h:g;g.popObj=b;b.useMove&&latte.iter(a,function(a){a.popObj=b;a.parHdl=d;e.addTarget(a,c.move)});b.useResize&&latte.iter(j,function(a){a.popObj=b;a.parHdl=d;e.addTarget(a,c.resize)});latte.iter(k,function(a){a.popObj=b;a.parHdl=d;latte.observer.add(a,"click",c.apply)});latte.iter(i,function(a){a.popObj=b;a.parHdl=d;latte.observer.add(a,"click",c.close)});h.popObj=b;h.popHdl=f;latte.observer.add(h,"keydown",c.close);latte.observer.add(h,"mousedown",c.focus);latte.iter(f.hdlPopupWindowOverride,function(a,b){eval("var $_$="+a.toString());$_$.popWin=g;g["_"+b]=g.self["_"+b]=g[b];g[b]=g.self[b]=$_$})},movePosition:function(a){var b=a.style,a=a.parHdl.computePosition(a);b.position="absolute";b.display="block";b.top=a.top+"px";b.left=a.left+"px"},computePosition:function(a){var b=a.popObj,c=b.tarNode||b.opnNode||a,d={},f=b.popCtrl.posCloseMap[b.popNm];b.posSave&&f?(a.style.margin="0",d.left=f[0],d.top=f[1]):(d=a.offsetParent==c.offsetParent?latte.css.getRelativeOffset(c):latte.css.getRelativeOffset(a.offsetParent,c),d.top+=c.offsetTop,d.left+=c.offsetLeft,c==b.ifmNode?a.style.margin="0":d.top+=c.offsetHeight,b.posRel&&(d.left+=b.posRel[0],d.top+=b.posRel[1]));return d},setTitle:function(a){var a=a.popObj,b=a.ifmNode.contentWindow.document,c=a.tarNode;if(c){if(c=latte.isUND(a.title)?c.title:a.title)b.title?a.ifmNode.title=(b.title=c+" - "+b.title)+" \ucc3d":(a.ifmNode.title=c+" -  \ucc3d",b.title=c+" -  \uc601\uc5ed")}else a.ifmNode.title=(b.title||"")+"  \ucc3d"}});latte.Class.singletone(latte.ui.layer.PopupParentHandler);
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.layer=="undefined")window.latte.ui.layer={};latte.Class({$name:"latte.ui.layer.Blind",cssTpl:"position:fixed;top:0px;left:0px;z-index:#{zIndex};width:100%;height:100%;border:0;background:#{background};-ms-filter:alpha(opacity=#{alpha});filter:alpha(opacity=#{alpha});opacity:#{opacity};-moz-opacity:#{opacity}",deploy:function(b,a){var c=(b||window).document,d=latte.query("button, input, select, textarea",c),e=latte.query("a",c),f=latte.ui.layer.Blind.getInstance();latte.iter(d,function(a){a._bakDisabled=a.disabled;a.disabled=!0});latte.iter(e,function(a){a._bakHref=a.href;a.removeAttribute("href")});f.appendBlind(c,a)},remove:function(b){var b=(b||window).document,a=latte.query("button, input, select, textarea",b),c=latte.query("a",b),d=latte.ui.layer.Blind.getInstance();latte.iter(a,function(a){a.disabled=a._bakDisabled;delete a._bakDisabled});latte.iter(c,function(a){a.setAttribute("href",a._bakHref);delete a._bakHref});d.removeBlind(b)},appendBlind:function(b,a){var a=a||{},c=b.body;a.zIndex=latte.isUND(a.zIndex)?6900:a.zIndex;a.background=latte.isUND(a.background)?"#000":a.background;a.opacity=latte.isUND(a.opacity)?0.3:a.opacity;a.alpha=a.opacity*100;var d=latte.dom.ele.create("div",b),e=latte.tpl.eval(latte.ui.layer.Blind.getInstance().cssTpl,a);d.style.cssText=e;c.appendChild(c._bliNode=d)},removeBlind:function(b){var b=b.body,a=b._bliNode;if(a){try{a.parentNode.removeChild(a)}catch(c){}try{delete b._bliNode}catch(d){}}}});latte.Class.singletone(latte.ui.layer.Blind);
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.node=="undefined")window.latte.ui.node={};latte.Class({$name:"latte.ui.node.Node",$const:function(){},nodCtrl:null,docNode:null,tplNode:null,wrpNode:null,absNode:null,forNodes:null,itmClassNm:null,limUnder:null,limOver:null,msgUnder:null,msgOver:null,msgAdd:null,msgDrop:null,msgMov:null,seq:0,callback:null,init:function(a){this.nodCtrl=a.nodCtrl;this.docNode=a.docNode||document;this.wrpNode=latte.query(a.wrpNode,this.docNode)[0];this.absNode=latte.query(a.absNode,this.docNode)[0];this.tplNode=latte.query(a.tplNode,this.docNode)[0];this.itmClassNm=a.itmClassNm;if(latte.isINT(a.staSeq))this.seq=a.staSeq;this.limUnder=latte.isUND(a.limUnder)?0:a.limUnder;this.limOver=latte.isUND(a.limOver)?null:a.limOver;this.msgUnder=a.msgUnder;this.msgOver=a.msgOver;this.msgAdd=a.msgAdd;this.msgDrop=a.msgDrop;this.msgMov=a.msgMov;a=a.callback||{};this.callback={getRepObj:a.getRepObj||function(){return{}},lodBefore:a.lodBefore||latte.blkFnc,lodAfter:a.lodAfter||latte.blkFnc,addBefore:a.addBefore||latte.blkFnc,addAfter:a.addAfter||latte.blkFnc,drpBefore:a.drpBefore||latte.blkFnc,drpAfter:a.drpAfter||latte.blkFnc,movBefore:a.movBefore||latte.blkFnc,movAfter:a.movAfter||latte.blkFnc};this.nodCtrl.init(this)},add:function(a,b){return this.nodCtrl.add(a,b,this,arguments)},prev:function(){return this.nodCtrl.move(latte.ui.node.BEFORE,this,arguments)},next:function(){return this.nodCtrl.move(latte.ui.node.AFTER,this,arguments)},drop:function(a){return this.nodCtrl.drop(a,this,arguments)},dropAll:function(){return this.nodCtrl.dropAll(this)}});
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.node=="undefined")window.latte.ui.node={};latte.Class({$name:"latte.ui.node.NodeControl",init:function(c){var a=c.callback;a.lodBefore(c)||a.lodAfter(c)},addNodeManager:function(c){c.nodCtrl=latte.ui.node.NodeControl.getInstance();var a=new latte.ui.node.Node;latte.ui.onLoad(function(){a.init(c)});return a},findItemNode:function(c,a){for(var b=latte.ui.event.getEvent(a).target;b;){if(latte.css.isContain(b,c))break;b=b.parentNode}return b},add:function(c,a,b,d){var e=b.nodCtrl,g=b.callback,a=a||e.findItemNode(b.itmClassNm,d)||b.absNode;if(!a)return!1;if(g.addBefore(b))return!1;d=e.getItemNodes(b);if(b.limOver!=null&&b.limOver<=d.length)return latte.isUND(b.msgOver)||alert(b.msgOver),!1;d=b.seq++;d=latte.tpl.node.eval(b.tplNode,g.getRepObj(b,d));e=latte.ui.node;switch(c){default:case e.AFTER:latte.dom.appendNode.after(a,d);break;case e.BEFORE:latte.dom.appendNode.before(a,d);break;case e.FCHILD:if(a.firstChild){latte.dom.appendNode.before(a.firstChild,d);break}case e.LCHILD:a.appendChild(d)}latte.isUND(b.msgAdd)||alert(b.msgAdd);g.addAfter(b,d);return!1},move:function(c,a,b){var d,e,g=a.nodCtrl;if(b.length){var h=b[0].nodeType?!0:!1;d=(h?b[0]:b[1])||g.findItemNode(a.itmClassNm,b);e=latte.isUND(e=h?b[1]:b[0])?1:e}else d=g.findItemNode(a.itmClassNm,b),e=1;b=a.callback;if(e<0||!d)return!1;if(b.movBefore(a,d))return!1;var h=latte.ui.node,j=a.itmClassNm,f=absNode=d,i=!0;switch(c){case h.BEFORE:for(;e>0&&(f=f.previousSibling);)f.nodeType==1&&latte.css.isContain(f,j)&&(absNode=f,e--);absNode!=d?latte.dom.appendNode.before(absNode,d):i=!1;break;case h.AFTER:for(;e>0&&(f=f.nextSibling);)f.nodeType==1&&latte.css.isContain(f,j)&&(absNode=f,e--);absNode!=d?latte.dom.appendNode.after(absNode,d):i=!1}if(!i)return!1;g.getItemNodes(a);latte.isUND(a.msgMov)||alert(a.msgMov);b.movAfter(a,d);return!1},drop:function(c,a,b){var d=a.nodCtrl,e=a.callback,c=c||d.findItemNode(a.itmClassNm,b);if(!c)return!1;if(e.drpBefore(a,c))return!1;b=d.getItemNodes(a);if(a.limUnder>=b.length)return latte.isUND(a.msgUnder)||alert(a.msgUnder),!1;c.parentNode.removeChild(c);latte.isUND(a.msgDrop)||alert(a.msgDrop);e.drpAfter(a,c);return!1},dropAll:function(c){if(c.limUnder>0)return latte.isUND(c.msgUnder)||alert(c.msgUnder),!1;var a=c.nodCtrl,b=a.getItemNodes(c);latte.iter(b,function(b){a.drop(b,c)});return!1},getItemNodes:function(c){return latte.query("."+c.itmClassNm,c.wrpNode)}});latte.Class.singletone(latte.ui.node.NodeControl);latte.ui.addNodeManager=latte.ui.node.NodeControl.getInstance().addNodeManager;
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.node=="undefined")window.latte.ui.node={};latte.Class({$name:"latte.ui.node.Dispose",$const:function(){},dpsCtrl:null,cstNode:null,wrpNodes:null,mrkNode:null,wrpOverlap:null,itmOverlap:null,itmClassNm:null,mrkClassNm:null,rdcClassNm:null,actClassNm:null,actZIndex:null,speed:null,weight:null,callback:null,evtClick:null,init:function(a){if(a)this.dpsCtrl=a.dpsCtrl,this.cstNode=latte.query(a.cstNode,this.docNode)[0],this.wrpNodes=latte.query(a.wrpNode,this.docNode),this.wrpOverlap=a.wrpOverlap,this.itmOverlap=a.itmOverlap,this.itmClassNm=a.itmClassNm,this.mrkClassNm=a.mrkClassNm||"dps-mrk-node",this.rdcClassNm=a.rdcClassNm||"dps-rdc-node",this.actClassNm=a.actClassNm||"dps-act-node",this.actZIndex=latte.isUND(a.actZIndex)?100:a.actZIndex,this.speed=latte.isUND(a.speed)?30:a.speed,this.weight=latte.isUND(a.weight)?10:a.weight,this.weight=Math.round(this.weight*(latte.isMOBILE?1.5:1)),a=a.callback||{},this.callback={lodBefore:a.lodBefore||latte.blkFnc,lodAfter:a.lodAfter||latte.blkFnc,mdnBefore:a.mdnBefore||latte.blkFnc,mdnAfter:a.mdnAfter||latte.blkFnc,mmvBefore:a.mmvBefore||latte.blkFnc,mmvAfter:a.mmvAfter||latte.blkFnc,mupBefore:a.mupBefore||latte.blkFnc,mupAfter:a.mupAfter||latte.blkFnc};this.dpsCtrl.init(this)}});
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.node=="undefined")window.latte.ui.node={};latte.Class({$name:"latte.ui.node.DisposeDragDropHandler",drgCtrl:latte.dom.DragHandler.getInstance(),wrpAreas:null,movWrpNode:null,movItmNode:null,bindDragDrop:function(a,c){var b=latte.ui.node.DisposeDragDropHandler.getInstance(),c=latte.isFNC(c)?c:latte.blkFnc;latte.iter(a,function(a){a.drgHdl=b;c(a)})},activeItemNode:function(a){var c=a.dpsObj,b=c.dpsCtrl;a.drgHdl.movWrpNode=a.parentNode;var e=b.createExtendNode(a,!0),d=latte.ui.getNodeArea(a);e.style.width=e.maxWidth+"px";latte.dom.appendNode.before(a,e);var e=a.style,b=b.getItemNodes(c),f=c.actZIndex,g=f-10;latte.iter(b,function(a){a.style.zIndex=g});e.position="absolute";e.left=d.left-d.margin[3]+"px";e.top=d.top-d.margin[0]+"px";e.zIndex=f;latte.css.addClass(a,c.actClassNm);a.parentNode.appendChild(a)},moveItemNode:function(a){var c=a._oDrag.movPos;if(c.x==0&&c.y==0)return!0;var b=a.dpsObj,a=a.style;a.top=parseInt(a.top)+c.y+"px";a.left=parseInt(a.left)+c.x+"px";b.evtClick=null;return!0},setOverlapInfo:function(a){var c=a.dpsObj,b=a.drgHdl.wrpAreas=[],e=c.wrpOverlap*-1,d,f;latte.iter(c.wrpNodes,function(a){b.push(d=latte.ui.getNodeArea(a));d.overlap=[d.top+e,d.left+d.width+e,d.top+d.height+e,d.left+e];f=a.style;a.bakSize={height:f.height,width:f.width};f.height=latte.css.getValue(a,"height");f.width=latte.css.getValue(a,"width")})},initMarkHandler:function(a){var c=latte.ui.getNextWeight,b=a.dpsObj,e=b.dpsCtrl,d=b.weight;latte.interval(b.speed,function(){var a=e.getMarkNodes(b),g,h;if(!a.length)return!0;latte.iter(a,function(a){nStyle=a.style;g=parseInt(nStyle.width);h=parseInt(nStyle.height);if(e.isMarkNode(b,a))g+=c(0,a.maxWidth,g,d),nStyle.width=Math.min(g,a.maxWidth)+"px",h+=c(0,a.maxHeight,h,d),nStyle.height=Math.min(h,a.maxHeight)+"px";else{g-=c(a.maxWidth,0,g,Math.round(d));if(g<=0)try{a.parentNode.removeChild(a)}catch(f){}else nStyle.width=g+"px";h-=c(a.maxHeight,0,h,Math.round(h));if(h<=0)try{a.parentNode.removeChild(a)}catch(i){}else nStyle.height=h+"px"}})})},reduceMarkNodes:function(a){var c=a.dpsObj,a=c.dpsCtrl.getMarkNodes(c);latte.iter(a,function(a){a.className=c.rdcClassNm})},findOverlapNode:function(a){var c=a.drgHdl,b=a.dpsObj,e=b.dpsCtrl,d=latte.ui.getNodeArea(a),f={},g=c.movWrpNode,h=latte.ui.getNodeArea(g),l=b.wrpNodes;latte.iter(c.wrpAreas,function(a,b){if(e.isOverlap(d,a.overlap,l[b],0)){g=l[b];h=a.overlap;if(g!=c.movWrpNode)c.movWrpNode=f.wrpNode=g;return null}});var m=e.getItemNodes(b),i=b.itmOverlap,k=g.lastChild,q=b.itmClassNm,j,o,n,p;latte.iter(m,function(b){if(b!=a)if(j=latte.ui.getNodeArea(b),o=[j.top+i[0],j.left+i[1],j.top+i[2],j.left+i[3]],n=o.slice(),b==k?n[1]=h[1]:(p=j.width+j.margin[3]+j.margin[1],n[1]+=p),e.isOverlap(d,o,b,-1)){if(b!=c.movItmNode)c.movItmNode=f.itmNode=b;return null}else if(e.isOverlap(d,n,b,1)){for(;b=b.nextSibling;)if(latte.css.isContain(b,q))break;if(b){if(b!=c.movItmNode)c.movItmNode=f.itmNode=b}else c.movWrpNode=f.wrpNode=g;return null}});return!f.wrpNode&&!f.itmNode?null:f},markOverlapNode:function(a){var c=a.drgHdl,b=c.findOverlapNode(a);if(b){c=a.drgHdl;c.reduceMarkNodes(a);var c=a.dpsObj,e=c.dpsCtrl,d=b.wrpNode;(b=b.itmNode)?(d=b.previousSibling,!d||latte.css.isContain(d,c.itmClassNm)?(a=e.createExtendNode(a),latte.dom.appendNode.before(b,a)):d.className=c.mrkClassNm):latte.query("."+c.mrkClassNm,d).length||(a=e.createExtendNode(a,!0),d.appendChild(a))}},stopDispose:function(a){var c=latte.css.removeClass,b=a.dpsObj,e=b.dpsCtrl,d=b.actZIndex-10,f=e.getItemNodes(b),g=b.actClassNm,h;latte.iter(f,function(a){h=a.style;h.position="relative";h.top="0px";h.left="0px";h.zIndex=d;c(a,g)});a.drgHdl.movItmNode=null;var l=!1,f=e.getMarkNodes(b);latte.iter(f,function(c){!l&&e.isMarkNode(b,c)&&(l=!0,latte.dom.appendNode.before(c,a));try{c.parentNode.removeChild(c)}catch(d){}});var m=h.removeProperty?"removeProperty":"removeAttribute",i,k;latte.iter(b.wrpNodes,function(a){i=a.style;k=a.bakSize;removeStyle=i.removeProperty||i.removeAttribute;if(k.height.length)i.height=k.height;else i[m]("height");if(k.width.length)i.width=k.width;else i[m]("width")})},createClickEvent:function(a,c){var b=a.dpsObj;b.evtClick=b.curWeight?null:latte.ui.event.tranEventDownToClick(c)},fireClickEvent:function(a,c){var b=a.dpsObj;if(!c){if(b.evtClick)b.evtClick.fireEvent();else if(latte.isMSIE6){var e=a.drgHdl,d=latte.ui.event.getEvent().target,f=d.onclick;d.onclick=e.stopEventIE6;latte.interval(1,function(){d.onclick=f;return!0})}b.evtClick=null}},stopEventIE6:function(a){latte.getEvent(a).stop()}});latte.Class.singletone(latte.ui.node.DisposeDragDropHandler);
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.node=="undefined")window.latte.ui.node={};latte.Class({$name:"latte.ui.node.DisposeControl",hdlDragDrop:{down:function(a,c,b){var d=b.dpsObj,e=d.callback;if(!e.mdnBefore(d,a,c,b)){var f=b.drgHdl;f.activeItemNode(b);f.setOverlapInfo(b);f.initMarkHandler(b);f.createClickEvent(b,a);e.mdnAfter(d,a,c,b)}},move:function(a,c,b){var d=b.dpsObj,e=d.callback;if(!e.mmvBefore(d,a,c,b)){var f=b.drgHdl;f.moveItemNode(b)&&(f.markOverlapNode(b),e.mmvAfter(d,a,c,b))}},up:function(a,c,b){var d=b.dpsObj,e=d.callback;if(!e.mupBefore(d,a,c,b)){var f=b.drgHdl;f.stopDispose(b);f.fireClickEvent(b);e.mupAfter(d,a,c,b)}}},init:function(a){var c=a.callback;if(!c.lodBefore(a)){var b=a.dpsCtrl;a.cstNode.style.position="relative";b.removeTextNodeInWrapNode(a);b.bindDragDropHandler(a);c.lodAfter(a)}},addDisposeNodeManager:function(a){a.dpsCtrl=latte.ui.node.DisposeControl.getInstance();var c=new latte.ui.node.Dispose;latte.ui.onLoad(function(){c.init(a)});return c},removeTextNodeInWrapNode:function(a){latte.iter(a.wrpNodes,latte.ui.removeTextNode)},bindDragDropHandler:function(a){var c=a.dpsCtrl,b=c.hdlDragDrop,d=latte.ui.node.DisposeDragDropHandler.getInstance(),e=d.drgCtrl,f=latte.ui.mobile.touchToMouseEvent,c=c.getItemNodes(a),h=a.actZIndex-10,g;d.bindDragDrop(c,function(c){c.dpsObj=a;g=c.style;g.position="relative";g.top="0px";g.left="0px";g.zIndex=h;e.addTarget(c,b);f(["touchstart","touchmove","touchend"],c)})},getItemNodes:function(a){var c="."+a.itmClassNm,b=[];latte.iter(a.wrpNodes,function(a){b=b.concat(latte.query(c,a))});return b},getMarkNodes:function(a){var c=[],b="."+a.rdcClassNm+", ."+a.mrkClassNm;latte.iter(a.wrpNodes,function(a){c=c.concat(latte.query(b,a))});return c},isMarkNode:function(a,c){try{return latte.css.isContain(c,a.mrkClassNm)}catch(b){return!1}},isReduceNode:function(a,c){try{return latte.css.isContain(c,a.rdcClassNm)}catch(b){return!1}},isOverlap:function(a,c){return a.top>=c[0]&&a.top<=c[2]&&a.left>=c[3]&&a.left<=c[1]},getMarkNode:function(a){var c=a.dpsObj,b=c.dpsCtrl;return c.mrkNode||b.createMarkNode(a)},createMarkNode:function(a){var c=a.dpsObj,b=c.mrkNode=a.cloneNode(!0),a=latte.ui.getNodeArea(a),d=b.style;b.removeAttribute("width");b.removeAttribute("height");b.className=c.mrkClassNm;b.maxHeight=a.height+a.margin[0]+a.margin[2];b.maxWidth=a.width+a.margin[3]+a.margin[1];d.margin="0 0 0 0";d.border="0px";d.visibility="hidden";d.width="0px";d.height="0px";return b},createExtendNode:function(a,c){var b=a.dpsObj.dpsCtrl.getMarkNode(a),d=b.cloneNode(!1),e=d.style;d.maxWidth=b.maxWidth;d.maxHeight=b.maxHeight;e.width=(c?d.maxWidth:0)+"px";e.height=(c?d.maxHeight:0)+"px";return d}});latte.Class.singletone(latte.ui.node.DisposeControl);latte.ui.addDisposeNodeManager=latte.ui.node.DisposeControl.getInstance().addDisposeNodeManager;
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.banner=="undefined")window.latte.ui.banner={};latte.Class({$name:"latte.ui.banner.Roll",$const:function(){},bnrCtrl:null,wrpNode:null,itmClassNm:null,actClassNm:null,isStop:null,staSeq:null,direction:null,speed:null,callback:null,itmLen:null,selNo:null,selNode:null,init:function(a){this.bnrCtrl=a.bnrCtrl;this.wrpNode=latte.query(a.wrpNode,this.docNode)[0];this.itmClassNm=a.itmClassNm;this.actClassNm=a.actClassNm;this.isStop=latte.isUND(a.staAuto)?!1:!a.staAuto;this.staSeq=latte.isUND(a.staSeq)?1:a.staSeq;this.direction=latte.isUND(a.direction)?1:a.direction;this.speed=latte.isUND(a.speed)?2E3:a.speed;a=a.callback||{};this.callback={lodBefore:a.lodBefore||latte.blkFnc,lodAfter:a.lodAfter||latte.blkFnc,staBefore:a.staBefore||latte.blkFnc,staAfter:a.staAfter||latte.blkFnc,stpBefore:a.stpBefore||latte.blkFnc,stpAfter:a.stpAfter||latte.blkFnc,prvBefore:a.prvBefore||latte.blkFnc,prvAfter:a.prvAfter||latte.blkFnc,nxtBefore:a.nxtBefore||latte.blkFnc,nxtAfter:a.nxtAfter||latte.blkFnc,viwBefore:a.viwBefore||latte.blkFnc,viwAfter:a.viwAfter||latte.blkFnc};this.bnrCtrl.init(this)},start:function(a,b){if(!latte.isUND(a))this.direction=a;if(!latte.isUND(b))this.speed=b;this.bnrCtrl.start(this)},stop:function(){this.bnrCtrl.stop(this)},prev:function(a){a=latte.isUND(a)?1:a;this.bnrCtrl.prev(this,a)},next:function(a){a=latte.isUND(a)?1:a;this.bnrCtrl.next(this,a)},view:function(a){this.bnrCtrl.view(this,a)}});
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.banner=="undefined")window.latte.ui.banner={};latte.Class({$name:"latte.ui.banner.RollControl",init:function(a){var b=a.callback;if(!b.lodBefore(a)){var c=a.bnrCtrl;c.initDisplay(a);if(!a.isStop)a.isStop=!0,c.start(a);b.lodAfter(a)}},initDisplay:function(a){a.bnrCtrl.view(a,a.staSeq)},addRollBannerManager:function(a){a.bnrCtrl=latte.ui.banner.RollControl.getInstance();var b=new latte.ui.banner.Roll;latte.ui.onLoad(function(){b.init(a)});return b},getItemNodes:function(a){for(var a=latte.query("."+a.itmClassNm,a.wrpNode),b=0,c;c=a[b++];)c.idx=b;return a},start:function(a){var b=a.callback;if(!b.staBefore(a)&&a.isStop){if(this.direction===null)this.direction=1;if(this.speed===null)this.speed=2E3;a.isStop=!1;latte.interval(a.speed,function(){if(a.isStop)return!0;a.bnrCtrl.next(a,a.direction);return a.isStop});b.staAfter(a)}},stop:function(a){var b=a.callback;if(!b.stpBefore(a))a.isStop=!0,b.stpAfter(a)},prev:function(a,b){return a.bnrCtrl.next(a,b*-1,!0)},next:function(a,b,c){var e=a.callback;if(!e[c?"prvBefore":"nxtBefore"](a,b)&&b!=0){var f=a.bnrCtrl,d=f.getItemNodes(a);if(d.length>=2){var j=a.actClassNm,h,g,i=b;b<0&&(i=Math.abs(b),d.reverse());for(;!g;)d.push(h=d.shift()),latte.css.isContain(h,j)&&(g=h);for(;i--;)d.push(g=d.shift());f.display(a,g,d)}e[c?"prvAfter":"nxtAfter"](a,b)}},view:function(a,b){var c=a.callback;if(!c.viwBefore(a,b)){var e=a.bnrCtrl,f=e.getItemNodes(a),d=f[b-1];d&&e.display(a,d,f);c.viwAfter(a,b)}},hideAll:function(a,b){var b=b||a.bnrCtrl.getItemNodes(a),c=a.actClassNm;latte.iter(b,function(a){latte.css.removeClass(a,c)})},display:function(a,b,c){var e=a.bnrCtrl,c=c||e.getItemNodes(a);e.hideAll(a,c);latte.css.addClass(b,a.actClassNm);a.itmLen=c.length;a.selNo=b.idx;a.selNode=b}});latte.Class.singletone(latte.ui.banner.RollControl);latte.ui.addRollBannerManager=latte.ui.banner.RollControl.getInstance().addRollBannerManager;
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.banner=="undefined")window.latte.ui.banner={};latte.Class({$name:"latte.ui.banner.Scroll",$const:function(){},bnrCtrl:null,scrNode:null,wrpNode:null,fstNode:null,lstNode:null,itmClassNm:null,isStop:null,stpCorrect:null,limScroll:null,direction:null,speed:null,callback:null,maxWeight:null,curWeight:0,stpLeftDistance:0,stpAbsDistance:0,evtClick:null,init:function(a){this.bnrCtrl=a.bnrCtrl;this.scrNode=latte.query(a.scrNode,this.docNode)[0];this.wrpNode=latte.query(a.wrpNode,this.docNode)[0];this.itmClassNm=a.itmClassNm;this.isStop=latte.isUND(a.staAuto)?!0:!a.staAuto;this.stpCorrect=latte.isUND(a.stpCorrect)?!0:a.stpCorrect;this.limScroll=latte.isUND(a.limScroll)?!1:a.limScroll;var b=a.callback||{};this.callback={lodBefore:b.lodBefore||latte.blkFnc,lodAfter:b.lodAfter||latte.blkFnc,staBefore:b.staBefore||latte.blkFnc,staAfter:b.staAfter||latte.blkFnc,stpBefore:b.stpBefore||latte.blkFnc,stpAfter:b.stpAfter||latte.blkFnc,movBefore:b.movBefore||latte.blkFnc,movAfter:b.movAfter||latte.blkFnc};this.setVector(a.direction,a.weight,a.speed);this.bnrCtrl.init(this)},setVector:function(a,b,c){this.bnrCtrl.setVector(this,{direction:latte.isUND(a)?this.direction||latte.ui.direction.RIGHT:a,weight:latte.isUND(b)?this.maxWeight||0:b,speed:latte.isUND(c)?this.speed||50:c})},start:function(a,b,c){this.setVector(a,b,c);this.bnrCtrl.start(this)},startIgnore:function(a,b,c){this.setVector(a,b,c);this.bnrCtrl.start(this,!0)},stop:function(){this.bnrCtrl.stop(this)},stopIgnore:function(){this.bnrCtrl.stop(this,!0)}});
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.banner=="undefined")window.latte.ui.banner={};latte.Class({$name:"latte.ui.banner.ScrollDragDropHandler",drgCtrl:latte.dom.DragHandler.getInstance(),scrollItem:function(a,c,b){var d=a.bnrObj,e=d.callback;if(!e.movBefore(d)){var g=d.bnrCtrl,b=latte.isUND(b)?g.getWeight(d):b,c=latte.isUND(c)?d.direction:c;if(b!==null){var f=g.getDirectionAttribute(c),i=g.getItemNodes(d),a=i[0],h=latte.ui.getNodeArea(a),j=d.scrNode[f.scrSize];b*=f.isPrev?-1:1;var h={size:h[f.itmSize]+h.margin[f.itmGap[0]]+h.margin[f.itmGap[1]],offDistance:h[f.direction]+b,styDistance:parseInt(a.style[f.direction])+b},a=d.wrpNode,b=a.drgHdl,k=b.reviseMovePosition(a,f,h),h=b.getResistScroll(a,f,j,k);g.isMoveAvailable(d,j,c,h)&&latte.iter(i,function(a){a.style[f.direction]=k+"px"});b.scrollEndpoint(a,h);e.movAfter(d)}}},popItem:function(a){var a=a.bnrObj,c=a.bnrCtrl.getItemNodes(a),b=latte.ui.direction;switch(a.direction){case b.TOP:case b.LEFT:a=c[0];break;default:a=c[c.length-1]}if(!a)return null;a.parentNode.removeChild(a);return a},pushItem:function(a,c){var b=a.bnrObj,d=latte.ui.direction;switch(b.direction){case d.TOP:case d.LEFT:b.wrpNode.appendChild(c);break;default:b=b.bnrCtrl.getItemNodes(b);if(!b[0])break;latte.dom.appendNode.before(b[0],c)}return c},reviseMovePosition:function(a,c,b){var d=b.styDistance;if(a.bnrObj.limScroll)return d;var e=a.drgHdl;c.isPrev&&Math.abs(b.offDistance)>b.size?(d+=b.size,e.pushItem(a,e.popItem(a))):b.offDistance>0&&(d-=b.size,e.pushItem(a,e.popItem(a)));return d},getResistScroll:function(a,c,b,d){a=a.bnrObj;if(a.limScroll){var e=latte.ui.direction,g=c.direction,f=a.lstNode;d-=parseInt(f.style.left);var i,f=latte.ui.getNodeArea(f),c=b-f[c.direction]-f[c.itmSize]-d;c>0&&(i={direction:g==e.LEFT||g==e.RIGHT?e.RIGHT:e.BOTTOM,distance:c});f=latte.ui.getNodeArea(a.fstNode);c=f.left+d;c>0&&(i={direction:g==e.LEFT||g==e.RIGHT?e.LEFT:e.TOP,distance:c});return i}},scrollEndpoint:function(a,c){var b=a.bnrObj;if(b.limScroll&&c){var d=c.distance;b.direction=c.direction;b.stpAbsDistance=d;b.curWeight=Math.round(d/2);b.stop()}},pauseScroll:function(a){a.bnrObj.stopIgnore()},scroll:function(a){var g;var f;var c=a._oDrag.movPos;if(c.x||c.y){var b=a.bnrObj,d=latte.ui.direction,e;switch(e){case d.TOP:case d.BOTTOM:e=b.direction=d[c.y<0?"TOP":"BOTTOM"];f=b.curWeight=Math.abs(c.y),c=f;break;default:e=b.direction=d[c.x<0?"LEFT":"RIGHT"],g=b.curWeight=Math.abs(c.x),c=g}a.drgHdl.scrollItem(a,e,c);b.evtClick=null}},stopScroll:function(a){a=a.bnrObj;a.startIgnore();a.stop()},createClickEvent:function(a,c){var b=a.bnrObj;b.evtClick=b.curWeight?null:latte.ui.event.tranEventDownToClick(c)},fireClickEvent:function(a,c){var b=a.bnrObj;if(!c){if(b.evtClick)b.evtClick.fireEvent();else if(latte.isMSIE6){var d=a.drgHdl,e=latte.ui.event.getEvent().target,g=e.onclick;e.onclick=d.stopEventIE6;latte.interval(1,function(){e.onclick=g;return!0})}b.evtClick=null}},stopEventIE6:function(a){latte.getEvent(a).stop()}});latte.Class.singletone(latte.ui.banner.ScrollDragDropHandler);
if(typeof window.latte=="undefined")window.latte={};if(typeof window.latte.ui=="undefined")window.latte.ui={};if(typeof window.latte.ui.banner=="undefined")window.latte.ui.banner={};latte.Class({$name:"latte.ui.banner.ScrollControl",hdlDragDrop:{down:function(a,b,c){b=c.drgHdl;b.pauseScroll(c);b.createClickEvent(c,a)},move:function(a,b,c){c.drgHdl.scroll(c,a)},up:function(a,b,c){a=c.drgHdl;a.stopScroll(c);a.fireClickEvent(c)}},init:function(a){var b=a.callback;if(!b.lodBefore(a)){var c=a.bnrCtrl;c.initPosition(a);c.bindDragDropHandler(a);if(!a.isStop)a.isStop=!0,c.start(a);b.lodAfter(a)}},bindDragDropHandler:function(a){var b=a.bnrCtrl.hdlDragDrop,c=latte.ui.banner.ScrollDragDropHandler.getInstance(),d=c.drgCtrl,e=latte.ui.mobile.touchToMouseEvent,f=a.wrpNode;f.bnrObj=a;f.drgHdl=c;a.scrNode.style.position="relative";latte.observer.add(document,"mouseup",function(a,b){d.mouseUp(a,b,f)});d.addTarget(f,b);e(["touchstart","touchmove","touchend"],f)},initPosition:function(a){var b=a.bnrCtrl.getItemNodes(a),c=b.length-1;latte.iter(b,function(b,e){if(c==e)a.lstNode=b;else if(!e)a.fstNode=b;nodStylr=b.style;nodStylr.position="relative";nodStylr.top="0px";nodStylr.left="0px"})},addScrollBannerManager:function(a){a.bnrCtrl=latte.ui.banner.ScrollControl.getInstance();var b=new latte.ui.banner.Scroll;latte.ui.onLoad(function(){b.init(a)});return b},getWeight:function(a){var b=a.curWeight,c=a.maxWeight,d=a.stpCorrect,e=a.stpAbsDistance,f=a.stpLeftDistance;if(a.isStop)if(e>0)e-=b,e>0?(a.curWeight=Math.ceil(b/2),a.stpAbsDistance=e):(b+=e,a.curWeight=0,a.stpAbsDistance=0);else if(b>0)d&&f>=b?a.stpLeftDistance-=b:a.curWeight--;else return a.curWeight=0,null;else b>c?a.curWeight--:b<c&&a.curWeight++;return b},getStopLeftDistance:function(a){var b=a.bnrCtrl.getItemNodes(a)[0],c=latte.ui.getNodeArea(b),d,e=!1,f=latte.ui.direction;switch(a.direction){case f.TOP:e=!0;case f.BOTTOM:d=c.width+c.margin[0]+c.margin[2];break;case f.LEFT:e=!0;case f.RIGHT:d=c.width+c.margin[3]+c.margin[1]}a=a.curWeight;b=parseInt(b.style.left)+a*(a+1)/2*(e?-1:1);b=(b%d-d)%d;return Math.abs(e?d+b:b)},getDirectionAttribute:function(a){var b=latte.ui.direction,c={scrSize:"clientHeight",itmSize:"height",itmGap:[0,2],direction:"top",isPrev:a==b.TOP||a==b.LEFT?!0:!1};switch(a){case b.LEFT:case b.RIGHT:c.scrSize="clientWidth",c.itmSize="width",c.direction="left",c.itmGap=[3,1]}return c},isMoveAvailable:function(a,b,c,d){var e=a.limScroll,a=a.stpAbsDistance||0,d=d?d.direction:null;return!e||c==d||b*e/100>a},getItemNodes:function(a){return latte.query("."+a.itmClassNm,a.wrpNode)},getReverseDirection:function(a){var b=latte.ui.direction;switch(a){case b.TOP:return b.BOTTOM;case b.LEFT:return b.RIGHT;case b.RIGHT:return b.LEFT;case b.BOTTOM:return b.TOP}},setVector:function(a,b){var c=a.maxWeight=b.weight,d=a.direction=b.direction;if(c<0)a.maxWeight=Math.abs(c),a.direction=a.bnrCtrl.getReverseDirection(d);c=a.speed=b.speed;if(c<0)a.speed=Math.abs(c)},start:function(a,b){var c=a.callback;if(!c.staBefore(a)&&a.isStop){var d=a.wrpNode,e=d.drgHdl;a.isStop=!1;if(a.curWeight==0||b)a.resScroll&&a.resScroll.clear(),a.resScroll=latte.interval(a.speed,function(b){if(a.isStop&&a.curWeight==0)return!0;e.scrollItem(d);latte.interval.rdata[b].interval=a.speed});c.staAfter(a)}},stop:function(a,b){var c=a.callback;if(!c.stpBefore(a))a.stpLeftDistance=a.bnrCtrl.getStopLeftDistance(a),a.isStop=!0,b&&a.resScroll&&a.resScroll.clear(),c.stpAfter(a)}});latte.Class.singletone(latte.ui.banner.ScrollControl);latte.ui.addScrollBannerManager=latte.ui.banner.ScrollControl.getInstance().addScrollBannerManager;